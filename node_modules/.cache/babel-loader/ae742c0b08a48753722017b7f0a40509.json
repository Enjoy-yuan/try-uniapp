{"remainingRequest":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/cf_web/node_modules/eslint-loader/index.js??ref--13-0!/Users/yuan/Documents/大唐广电/cf_web/src/utils/directives.js","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/cf_web/src/utils/directives.js","mtime":1600927611432},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\n\n/* eslint-disable */\nimport Vue from 'vue';\n/*\n *  使用方法\n *  将以下代码复制到一个js文件中，然后在入口文件main.js中import引入即可；\n *  给elementUI的dialog上加上 v-dialogDrag 指令就可以实现弹窗的全屏和拉伸了。\n *  给dialog设置 :close-on-click-modal=\"false\" , 禁止点击遮罩层关闭弹出层\n *  如果是form表单，不要将提交等按钮放置el-form-item，以免在上下拉伸时被隐藏\n */\n// v-dialogDrag: 弹窗拖拽+水平方向伸缩\n\nVue.directive('dialogDrag', {\n  bind: function bind(el) {\n    //初始非全屏\n    var isFullScreen = false; //当前宽高\n\n    var nowWidth = 0; //当前顶部高度\n\n    var nowMarginTop = 0; //获取弹框头部（这部分可双击全屏）\n\n    var dialogHeaderEl = el.querySelector('.el-dialog__header'); //弹窗\n\n    var dragDom = el.querySelector('.el-dialog'); //给弹窗加上overflow auto；不然缩小时框内的标签可能超出dialog；\n    // dragDom.style.overflow = 'auto'\n    //清除选择头部文字效果\n    //dialogHeaderEl.onselectstart = new Function(\"return false\");\n    //头部加上可拖动cursor\n\n    dialogHeaderEl.style.cursor = 'move'; // 获取原有属性 ie dom元素.currentStyle 火狐谷歌 window.getComputedStyle(dom元素, null);\n\n    var sty = dragDom.currentStyle || window.getComputedStyle(dragDom, null);\n\n    var moveDown = function moveDown(e) {\n      var disW = (document.body.clientWidth - dragDom.clientWidth) / 2; //可移动距离\n      // 鼠标按下，计算当前元素距离可视区的距离\n\n      var disX = e.clientX - dialogHeaderEl.offsetLeft;\n      var disY = e.clientY - dialogHeaderEl.offsetTop; // 获取到的值带px 正则匹配替换\n\n      var styL, styT; // 注意在ie中 第一次获取到的值为组件自带50% 移动之后赋值为px\n\n      if (sty.left.includes('%')) {\n        styL = +document.body.clientWidth * (+sty.left.replace(/%/g, '') / 100);\n        styT = +document.body.clientHeight * (+sty.top.replace(/%/g, '') / 100);\n      } else {\n        styL = +sty.left.replace(/\\px/g, '');\n        styT = +sty.top.replace(/\\px/g, '');\n      }\n\n      document.onmousemove = function (e) {\n        // 通过事件委托，计算移动的距离\n        var l = e.clientX - disX;\n        var t = e.clientY - disY;\n        var dT = dragDom.offsetTop; // 移动当前元素\n\n        if (dT >= 0 || e.clientY > 40) {\n          dragDom.style.top = \"\".concat(t + styT, \"px\");\n        }\n\n        var lWidth = (el.offsetWidth - dragDom.offsetWidth) / 2 - Math.abs(l + styL);\n\n        if (lWidth > 0) {\n          dragDom.style.left = \"\".concat(l + styL, \"px\");\n        } // if (\n        //     parseInt(dragDom.style.left) >= -disW &&\n        //     parseInt(dragDom.style.left) <= disW\n        // ) {\n        //     if (l + styL < -disW) {\n        //         dragDom.style.left = `${-disW}px`\n        //     } else if (l + styL > disW) {\n        //         dragDom.style.left = `${disW}px`\n        //     } else {\n        //         dragDom.style.left = `${l + styL}px`\n        //     }\n        // } else if (dragDom.style.left === '') {\n        //     dragDom.style.left = `${l + styL}px`\n        // }\n        //将此时的位置传出去\n        //binding.value({x:e.pageX,y:e.pageY})\n\n      };\n\n      document.onmouseup = function () {\n        document.onmousemove = null;\n        document.onmouseup = null;\n      };\n    };\n\n    dialogHeaderEl.onmousedown = moveDown; //双击头部全屏效果\n\n    dialogHeaderEl.ondblclick = function () {\n      if (isFullScreen == false) {\n        nowWidth = dragDom.clientWidth;\n        nowMarginTop = dragDom.style.marginTop;\n        dragDom.style.left = 0;\n        dragDom.style.top = 0;\n        dragDom.style.height = '100VH';\n        dragDom.style.width = '100VW';\n        dragDom.style.marginTop = 0;\n        isFullScreen = true;\n        dialogHeaderEl.style.cursor = 'initial';\n        dialogHeaderEl.onmousedown = null;\n      } else {\n        dragDom.style.height = 'auto';\n        dragDom.style.width = nowWidth + 'px';\n        dragDom.style.marginTop = nowMarginTop;\n        isFullScreen = false;\n        dialogHeaderEl.style.cursor = 'move';\n        dialogHeaderEl.onmousedown = moveDown;\n      }\n    }; // dragDom.onmousemove = function (e) {//拖拽，禁用\n    //     let moveE = e;\n    //     if (e.clientX > dragDom.offsetLeft + dragDom.clientWidth - 10 || dragDom.offsetLeft + 10 > e.clientX) {\n    //         dragDom.style.cursor = 'w-resize';\n    //     } else if (el.scrollTop + e.clientY > dragDom.offsetTop + dragDom.clientHeight - 10) {\n    //         dragDom.style.cursor = 's-resize';\n    //     } else {\n    //         dragDom.style.cursor = 'default';\n    //         dragDom.onmousedown = null;\n    //     }\n    //     dragDom.onmousedown = (e) => {\n    //         const clientX = e.clientX;\n    //         const clientY = e.clientY;\n    //         let elW = dragDom.clientWidth;\n    //         let elH = dragDom.clientHeight;\n    //         let EloffsetLeft = dragDom.offsetLeft;\n    //         let EloffsetTop = dragDom.offsetTop;\n    //         dragDom.style.userSelect = 'none';\n    //         let ELscrollTop = el.scrollTop;\n    //         //判断点击的位置是不是为头部\n    //         if (clientX > EloffsetLeft && clientX < EloffsetLeft + elW && clientY > EloffsetTop && clientY < EloffsetTop + 100) {\n    //             //如果是头部在此就不做任何动作，以上有绑定dialogHeaderEl.onmousedown = moveDown;\n    //         }else{\n    //             document.onmousemove = function (e) {\n    //                 e.preventDefault(); // 移动时禁用默认事件\n    //                 //左侧鼠标拖拽位置\n    //                 if (clientX > EloffsetLeft && clientX < EloffsetLeft + 10) {\n    //                     //往左拖拽\n    //                     if (clientX > e.clientX) {\n    //                         dragDom.style.width = elW + (clientX - e.clientX) * 2 + 'px';\n    //                     }\n    //                     //往右拖拽\n    //                     if (clientX < e.clientX) {\n    //                         if(dragDom.clientWidth < minWidth){\n    //                         }else{\n    //                             dragDom.style.width = elW - (e.clientX - clientX) * 2 + 'px';\n    //                         }\n    //                     }\n    //                 }\n    //                 //右侧鼠标拖拽位置\n    //                 if (clientX > EloffsetLeft + elW - 10 && clientX < EloffsetLeft + elW) {\n    //                     //往左拖拽\n    //                     if (clientX > e.clientX) {\n    //                         if (dragDom.clientWidth < minWidth) {\n    //                         } else {\n    //                             dragDom.style.width = elW - (clientX - e.clientX) * 2 + 'px';\n    //                         }\n    //                     }\n    //                     //往右拖拽\n    //                     if (clientX < e.clientX) {\n    //                         dragDom.style.width = elW + (e.clientX - clientX) * 2 + 'px';\n    //                     }\n    //                 }\n    //                 //底部鼠标拖拽位置\n    //                 if (ELscrollTop + clientY > EloffsetTop + elH - 20 && ELscrollTop + clientY < EloffsetTop + elH) {\n    //                     //往上拖拽\n    //                     if (clientY > e.clientY) {\n    //                         if (dragDom.clientHeight < minHeight) {\n    //                         } else {\n    //                             dragDom.style.height = elH - (clientY - e.clientY) * 2 + 'px';\n    //                         }\n    //                     }\n    //                     //往下拖拽\n    //                     if (clientY < e.clientY) {\n    //                         dragDom.style.height = elH + (e.clientY - clientY) * 2 + 'px';\n    //                     }\n    //                 }\n    //             };\n    //             //拉伸结束\n    //             document.onmouseup = function (e) {\n    //                 document.onmousemove = null;\n    //                 document.onmouseup = null;\n    //             };\n    //         }\n    //     }\n    // }\n\n  }\n});",null]}