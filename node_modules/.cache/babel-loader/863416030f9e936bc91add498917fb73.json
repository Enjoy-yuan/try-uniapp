{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/supplierManagement/supplierAudit/supplierCollectionAudit/formation.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/supplierManagement/supplierAudit/supplierCollectionAudit/formation.vue","mtime":1596610933950},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport tab1 from \"@/components/srmSupplierTab/Tab/tab1\";\nimport tab2 from \"@/components/srmSupplierTab/Tab/tab2\";\nimport tab3 from \"@/components/srmSupplierTab/Tab/tab3\";\nimport tab4 from \"@/components/srmSupplierTab/Tab/tab4\";\nimport tab5 from \"@/components/srmSupplierTab/Tab/tab5\";\nimport tab6 from \"@/components/srmSupplierTab/Tab/tab6\";\nimport tab7 from \"@/components/srmSupplierTab/Tab/tab7\";\nimport tab8 from \"@/components/srmSupplierTab/Tab/tab8\";\nimport tab9 from \"@/components/srmSupplierTab/Tab/tab9\";\nimport * as api from \"@/api/project/srm/supplierManagement/supplierRegister\";\nexport default {\n  components: {\n    tab1: tab1,\n    tab2: tab2,\n    tab3: tab3,\n    tab4: tab4,\n    tab5: tab5,\n    tab6: tab6,\n    tab7: tab7,\n    tab8: tab8,\n    tab9: tab9\n  },\n  data: function data() {\n    return {\n      edit: false,\n      state: '',\n      status: false,\n      rowData: {},\n      tabName: 'jbxx',\n      tabConfig: [{\n        label: '基本信息',\n        name: 'jbxx',\n        prop: 'jbxx'\n      }, {\n        label: '工厂信息',\n        name: 'gcxx',\n        prop: 'gcxx'\n      }, {\n        label: '市场业绩',\n        name: 'scyj',\n        prop: 'scyj'\n      }, {\n        label: '主要联系人',\n        name: 'zylxr',\n        prop: 'zylxr'\n      }, {\n        label: '主要工艺流程',\n        name: 'zygylc',\n        prop: 'zygylc'\n      }, {\n        label: '主要软件及设备清单',\n        name: 'sbqd',\n        prop: 'sbqd'\n      }, {\n        label: '主要模检具清单',\n        name: 'mjjqd',\n        prop: 'mjjqd'\n      }, {\n        label: '主要证书清单',\n        name: 'zsqd',\n        prop: 'zsqd'\n      }, {\n        label: '主要二级供应商清单',\n        name: 'gysqd',\n        prop: 'gysqd'\n      }]\n    };\n  },\n  methods: {\n    handleClose: function handleClose() {\n      this.$emit('changeState', 'list');\n    },\n    handleClick: function handleClick(tab) {\n      if (this.state === 'edit') {\n        if (tab.name === 'jbxx') {\n          this.$refs.tab1[0].getFactory(this.rowData);\n        } else if (tab.name === 'gcxx') {\n          this.$refs.tab2[0].getList(this.rowData);\n        } else if (tab.name === 'scyj') {\n          this.$refs.tab3[0].getList(this.rowData);\n        } else if (tab.name === 'zylxr') {\n          this.$refs.tab4[0].getList(this.rowData);\n        } else if (tab.name === 'zygylc') {\n          this.$refs.tab5[0].getList(this.rowData);\n        } else if (tab.name === 'sbqd') {\n          this.$refs.tab6[0].getList(this.rowData);\n        } else if (tab.name === 'mjjqd') {\n          this.$refs.tab7[0].getList(this.rowData);\n        } else if (tab.name === 'zsqd') {\n          this.$refs.tab8[0].getList(this.rowData);\n        } else if (tab.name === 'gysqd') {\n          this.$refs.tab9[0].getList(this.rowData);\n        }\n      }\n    },\n    initForm: function initForm(type, row) {\n      var _this = this;\n\n      this.state = type;\n      this.rowData = row;\n      this.$refs.tab1[0].getCountry();\n\n      if (type === 'edit') {\n        this.$refs.tab1[0].edit = true;\n        this.edit = false;\n        this.status = true;\n        this.$nextTick(function () {\n          if (_this.tabName === 'jbxx') {\n            _this.$refs.tab1[0].getList(_this.rowData);\n\n            _this.$refs.tab1[0].getFactory(row);\n          }\n\n          _this.$refs.tab2[0].list = [];\n          _this.$refs.tab3[0].list = [];\n          _this.$refs.tab3[0].listSub = [];\n          _this.$refs.tab4[0].list = [];\n          _this.$refs.tab5[0].list = [];\n          _this.$refs.tab6[0].list = [];\n          _this.$refs.tab7[0].list = [];\n          _this.$refs.tab8[0].list = [];\n          _this.$refs.tab9[0].list = [];\n        });\n      } else {\n        this.$refs.tab1[0].mainFactory = [];\n        this.$refs.tab1[0].edit = false;\n        this.edit = true;\n        this.status = false;\n        this.$nextTick(function () {\n          _this.$refs.tab1[0].resetTemp();\n\n          _this.$refs.tab1[0].$refs['mainLista'].clearValidate();\n\n          _this.$refs.tab1[0].$refs['mainListc'].clearValidate();\n        });\n      }\n    },\n    handleSave: function handleSave() {\n      var _this2 = this;\n\n      this.$refs.tab1[0].$refs['mainLista'].validate(function (valid) {\n        if (valid) {\n          _this2.$refs.tab1[0].$refs['mainListc'].validate(function (valid) {\n            if (valid) {\n              if (_this2.state === 'add') {\n                api.addRecord(_this2.$refs.tab1[0].mainList).then(function () {\n                  _this2.handleClose();\n\n                  _this2.$message({\n                    title: '成功',\n                    message: '新增成功',\n                    type: 'success',\n                    duration: 2000\n                  });\n\n                  _this2.$emit('fresh', 'list');\n                });\n              } else if (_this2.state === 'edit') {\n                api.updateRecord(_this2.rowData.rowId, _this2.$refs.tab1[0].mainList).then(function () {\n                  _this2.handleClose();\n\n                  _this2.$message({\n                    title: '成功',\n                    message: '编辑成功',\n                    type: 'success',\n                    duration: 2000\n                  });\n\n                  _this2.$emit('fresh', 'list');\n                });\n              }\n            } else {\n              return false;\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    handleConfirm: function handleConfirm() {\n      var _this3 = this;\n\n      var dto = {\n        method: 'confirm',\n        purchaseOrg: this.rowData.purchaseOrg,\n        purchaser: this.rowData.purchaser\n      };\n      api.confirmRecord(this.rowData.rowId, dto).then(function () {\n        _this3.$message({\n          title: '成功',\n          message: '信息确认成功',\n          type: 'success',\n          duration: 2000\n        });\n\n        _this3.$emit('fresh', 'list');\n      });\n    }\n  }\n};",null]}