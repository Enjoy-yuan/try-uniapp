{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/components/Dialog/dialogPersonSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/components/Dialog/dialogPersonSelect.vue","mtime":1596610933151},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Tree from \"@/components/Tree\"; // Secondary package based on el-pagination\n\nimport Pagination from '@/components/Pagination';\nimport { selectlists } from '@/api/system/employees';\nexport default {\n  name: 'personSelect',\n  components: {\n    Pagination: Pagination,\n    Tree: Tree\n  },\n  props: ['unMutiple', 'title', 'propName', 'propCode', 'required'],\n  data: function data() {\n    return {\n      treeType: 'org',\n      treeParams: {\n        orgCode: null\n      },\n      dialogVisible: false,\n      list: [],\n      total: 0,\n      listLoading: true,\n      listQuery: {\n        currentPage: 1,\n        pageSize: 10,\n        page: 1,\n        orgId: null,\n        employeeCode: null,\n        employeeName: null\n      },\n      selectedRows: [],\n      currentSelectedRow: null,\n      treeStyleObj: {\n        height: '437px'\n      }\n    };\n  },\n  created: function created() {\n    this.handleQuery();\n  },\n  watch: {\n    'listQuery.orgId': function listQueryOrgId(val) {\n      if (val) {\n        this.handleQuery();\n      }\n    }\n  },\n  methods: {\n    handleQuery: function handleQuery() {\n      var _this = this;\n\n      //查询组织列表\n      this.listQuery.page = 1;\n      selectlists(this.listQuery).then(function (response) {\n        _this.list = response.data.list;\n        _this.total = response.data.pages.count; // Just to simulate the time of the request\n      });\n    },\n    selectChange: function selectChange(val) {\n      //备选项选中行\n      if (this.unMutiple) {\n        if (val.length > 1) {\n          this.$refs.tb.clearSelection(); //清除其他行的选中\n\n          this.$refs.tb.toggleRowSelection(val[val.length - 1], \"selected\"); //单击行绑定点击事件\n        } else if (val.length === 1) {\n          this.selectedRows = val;\n          this.currentSelectedRow = val[val.length - 1];\n        } else if (val.length === 0) {\n          this.selectedRows = val;\n          this.currentSelectedRow = null;\n        }\n      } else {\n        this.selectedRows = val;\n        this.currentSelectedRow = val[val.length - 1];\n      }\n    },\n    personConfirm: function personConfirm() {\n      if (this.required && this.selectedRows) {\n        if (this.selectedRows.length === 0) {\n          this.$message({\n            type: 'warning',\n            message: '请选择一条数据'\n          });\n        } else {\n          this.$emit('personConfirm', this.selectedRows, this.propCode, this.propName);\n          this.dialogVisible = false;\n        }\n      } else {\n        if (this.selectedRows) {\n          if (this.selectedRows.length === 0) {\n            this.$emit('personConfirm', [{\n              employeeCode: null,\n              employeeName: null\n            }], this.propCode, this.propName);\n          } else {\n            this.$emit('personConfirm', this.selectedRows, this.propCode, this.propName);\n          }\n        } else {\n          this.$emit('personConfirm', [{\n            employeeCode: null,\n            employeeName: null\n          }], this.propCode, this.propName);\n        }\n\n        this.dialogVisible = false;\n      }\n    },\n    setTreeDatas: function setTreeDatas(id) {\n      this.$set(this.listQuery, 'orgId', id);\n    }\n  }\n};",null]}