{"remainingRequest":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/cf_web/node_modules/eslint-loader/index.js??ref--13-0!/Users/yuan/Documents/大唐广电/cf_web/src/utils/tool.js","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/cf_web/src/utils/tool.js","mtime":1600927611435},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/yuan/Documents/\\u5927\\u5510\\u5E7F\\u7535/cf_web/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport store from \"../store\";\nimport router from \"../router\";\nimport { filterAsyncRouter } from '@/utils/addRouter'; //取出两个数组的不同元素\n\nexport function getArrDifference(arr1, arr2) {\n  return arr1.concat(arr2).filter(function (v, i, arr) {\n    return arr.indexOf(v) === arr.lastIndexOf(v);\n  });\n} //取出两个数组的相同元素\n\nexport function getArrEqual(arr1, arr2) {\n  var newArr = [];\n\n  for (var i = 0; i < arr2.length; i++) {\n    for (var j = 0; j < arr1.length; j++) {\n      if (arr1[j] === arr2[i]) {\n        newArr.push(arr1[j]);\n      }\n    }\n  }\n\n  return newArr;\n}\nexport function refreshMenu() {\n  return _refreshMenu.apply(this, arguments);\n}\n\nfunction _refreshMenu() {\n  _refreshMenu = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee() {\n    var menus, getRouter, accessRoutes;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return store.dispatch('user/GetMenu');\n\n          case 2:\n            menus = _context.sent;\n            getRouter = filterAsyncRouter(menus); //过滤菜单\n            // 基于用户获取可访问的路由映射\n\n            _context.next = 6;\n            return store.dispatch('permission/generateRoutes', getRouter);\n\n          case 6:\n            accessRoutes = _context.sent;\n            // 动态添加可访问的路由\n            router.$addRoutes(accessRoutes);\n            router.$addRoutes(accessRoutes.concat([{\n              path: '*',\n              redirect: '/404'\n            }]));\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _refreshMenu.apply(this, arguments);\n}",null]}