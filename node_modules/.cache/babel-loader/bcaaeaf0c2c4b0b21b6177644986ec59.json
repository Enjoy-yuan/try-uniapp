{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/EL/equipmentRequisition/dialog/arrival.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/EL/equipmentRequisition/dialog/arrival.vue","mtime":1596610933380},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/yuan/Documents/\\u5927\\u5510\\u5E7F\\u7535/dt-web/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import * as api from \"@/api/project/srm/dataBase/specialDistinction\"\nimport * as api from '@/api/project/eas/el/equipmentRequisition';\nimport { DICT_CODE } from '@/utils/constant';\nimport { mapState } from 'vuex';\nimport vendorMainSelect from '@/components/Select/vendorMainSelect.vue'; //厂家\n\nimport personSelect from '@/components/Select/personSelect.vue';\nexport default {\n  components: {\n    vendorMainSelect: vendorMainSelect,\n    personSelect: personSelect\n  },\n  data: function data() {\n    return {\n      DICT_CODE: DICT_CODE,\n      temp: {\n        rowId: undefined,\n        manufacturersName: undefined,\n        accountQuantity: 0\n      },\n      dialogStatus: '',\n      dialogVisible: false,\n      rules: {\n        purchaseOrg: [{\n          required: true,\n          message: '采购组织不能为空',\n          trigger: 'blur'\n        }],\n        distinctionName: [{\n          required: true,\n          message: '区分名称不能为空',\n          trigger: 'blur'\n        }]\n      },\n      dialogVisibleVendorMain: false,\n      dialogVisiblePerson: false,\n      parentRows: [],\n      parentRowsperson: []\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    dt_srm_pbb: function dt_srm_pbb(state) {\n      return state.eamDict.dt_srm_pbb;\n    }\n  })),\n  mounted: function mounted() {\n    this.$store.dispatch('eamDict/getDicData', ['dt_srm_pbb']);\n  },\n  methods: {\n    //获取采购组织名称\n    selectName: function selectName(val) {\n      this.temp.purchaseOrgName = val;\n    },\n    handleEquipment: function handleEquipment() {\n      this.dialogVisibleVendorMain = true;\n    },\n    handleVendorMain: function handleVendorMain(val) {\n      this.parentRows = val;\n    },\n    confirmVendorMain: function confirmVendorMain() {\n      if (this.parentRows) {\n        this.$set(this.temp, 'manufacturersCode', this.parentRows.manufacturersCode);\n        this.$set(this.temp, 'manufacturersName', this.parentRows.manufacturersName);\n        this.dialogVisibleVendorMain = false;\n      } else {\n        this.$message({\n          title: '警告',\n          message: '请选择一条信息',\n          type: 'warning'\n        });\n      }\n    },\n    //请购人选择\n    handlePerson: function handlePerson() {\n      this.dialogVisiblePerson = true;\n    },\n    //请购人选择\n    person: function person(val) {\n      this.parentRowsperson = val;\n    },\n    //请购人确定\n    confirmPerson: function confirmPerson() {\n      if (this.parentRowsperson && this.parentRowsperson.length === 1) {\n        this.$set(this.temp, 'handltor', this.parentRowsperson[0].employeeCode);\n        this.$set(this.temp, 'handltorName', this.parentRowsperson[0].employeeName);\n        this.dialogVisiblePerson = false;\n      } else {\n        this.$message({\n          title: '警告',\n          message: '请选择一条信息',\n          type: 'warning'\n        });\n      }\n    },\n    createData: function createData() {\n      var _this = this;\n\n      var dto = {\n        accountQuantity: 0,\n        arrivalQuantity: this.temp.arrivalQuantity,\n        category: this.temp.category,\n        deviceName: this.temp.deviceName,\n        manufacturersCode: this.temp.manufacturersCode,\n        modelNumber: this.temp.modelNumber,\n        referencePrice: this.temp.referencePrice,\n        requisitionsQuantity: this.temp.requisitionsQuantity,\n        supplierCode: this.temp.supplierCode,\n        typeCode: this.temp.typeCode,\n        arrivalTime: this.temp.arrivalTime,\n        handltorName: this.temp.handltorName,\n        handltor: this.temp.handltor\n      };\n      api.arrival(this.temp.requisitionsOrderCode, this.temp.rowNo, dto).then(function () {\n        _this.$message({\n          title: '成功',\n          message: '到货成功',\n          type: 'success',\n          duration: 2000\n        });\n\n        _this.dialogVisible = false;\n\n        _this.$emit('refresh');\n      });\n    },\n    resetTemp: function resetTemp() {\n      this.temp = {\n        purchaseOrg: undefined,\n        distinctionCode: undefined,\n        distinctionName: undefined,\n        remark: undefined\n      };\n    }\n  }\n};",null]}