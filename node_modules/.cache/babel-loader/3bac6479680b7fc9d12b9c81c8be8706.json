{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/contractManage/supplierPerformance/problemManage/problemHandling/dialog/addMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/contractManage/supplierPerformance/problemManage/problemHandling/dialog/addMain.vue","mtime":1596610933628},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/yuan/Documents/\\u5927\\u5510\\u5E7F\\u7535/dt-web/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { DICT_CODE } from '@/utils/constant';\nimport caiGou from '@/components/Select/xtpt/caigou'; //下拉组件\n\nimport * as api from \"@/api/system/organization\";\nimport dialogOrgSelect from '@/components/Dialog/dialogOrgSelect';\nimport dialogPersonSelect from '@/components/Dialog/dialogPersonSelect.vue'; //选择人\n\nimport dialogGysxz from '@/components/Dialog/dialogsGysxz'; //供应商选择\n\nimport dialogMaterielCategory from '@/components/Dialog/dialogMaterielCategory.vue'; //物料分类\n\nimport { mapState } from \"vuex\";\nexport default {\n  components: {\n    caiGou: caiGou,\n    dialogOrgSelect: dialogOrgSelect,\n    dialogPersonSelect: dialogPersonSelect,\n    dialogGysxz: dialogGysxz,\n    dialogMaterielCategory: dialogMaterielCategory\n  },\n  data: function data() {\n    return {\n      DICT_CODE: DICT_CODE,\n      enableds: false,\n      dialogStatus: '',\n      dialogVisible: false,\n      dialogwlVisible: false,\n      treeData: [],\n      listQuery: {},\n      temp: {},\n      titlePerson: null,\n      defaultProps: {\n        children: \"children\",\n        label: \"organizationName\"\n      },\n      //基本非组件选择框\n      selectCommonConfig: [{\n        placeholder: '提交部门',\n        bindRef: 'submitDepart',\n        class: 'filter-item',\n        optionArr: [{\n          key: '0',\n          value: '品质保证部',\n          label: '品质保证部'\n        }]\n      }, {\n        placeholder: '提交人',\n        bindRef: 'submitPerson',\n        class: 'filter-item',\n        optionArr: [{\n          key: '0',\n          value: '黄渤',\n          label: '黄渤'\n        }, {\n          key: '0',\n          value: '黄磊',\n          label: '黄磊'\n        }, {\n          key: '0',\n          value: '罗志祥',\n          label: '罗志祥'\n        }]\n      }, {\n        placeholder: '供应商',\n        bindRef: 'supplierCode',\n        class: 'filter-item',\n        optionArr: [{\n          key: '0',\n          value: '江西逸晨科技有限公司',\n          label: '江西逸晨科技有限公司'\n        }, {\n          key: '1',\n          value: '苏州微晶自动化有限公司',\n          label: '苏州微晶自动化有限公司'\n        }, {\n          key: '2',\n          value: '北京诺亚信科技有限公司',\n          label: '北京诺亚信科技有限公司'\n        }, {\n          key: '3',\n          value: '南京极镪贸易有限公司',\n          label: '南京极镪贸易有限公司'\n        }]\n      }, {\n        placeholder: '状态',\n        bindRef: 'state',\n        class: 'filter-item',\n        optionArr: [{\n          key: '0',\n          value: '问题提出',\n          label: '问题提出'\n        }, {\n          key: '1',\n          value: '解决中',\n          label: '解决中'\n        }, {\n          key: '2',\n          value: '待复检',\n          label: '待复检'\n        }, {\n          key: '3',\n          value: '复检中',\n          label: '复检中'\n        }, {\n          key: '4',\n          value: '关闭',\n          label: '关闭'\n        }, {\n          key: '5',\n          value: '再重发',\n          label: '再重发'\n        }, {\n          key: '6',\n          value: '重发解决',\n          label: '重发解决'\n        }, {\n          key: '7',\n          value: '待重捡',\n          label: '待重捡'\n        }, {\n          key: '8',\n          value: '重建中',\n          label: '重建中'\n        }, {\n          key: '9',\n          value: '重建关闭',\n          label: '重建关闭'\n        }]\n      }, {\n        placeholder: '严重等级',\n        bindRef: 'rank',\n        class: 'filter-item',\n        optionArr: [{\n          key: '0',\n          value: '紧急',\n          label: '紧急'\n        }, {\n          key: '1',\n          value: '高',\n          label: '高'\n        }, {\n          key: '2',\n          value: '中',\n          label: '中'\n        }, {\n          key: '3',\n          value: '低',\n          label: '低'\n        }]\n      }, {\n        placeholder: '确认状态',\n        bindRef: 'confirmState',\n        class: 'filter-item',\n        optionArr: [{\n          key: '0',\n          value: '已确认',\n          label: '已确认'\n        }, {\n          key: '1',\n          value: '未确认',\n          label: '未确认'\n        }, {\n          key: '2',\n          value: '确认中',\n          label: '确认中'\n        }]\n      }, {\n        placeholder: '确认人',\n        bindRef: 'confirmPerson',\n        class: 'filter-item',\n        optionArr: [{\n          key: '0',\n          value: '孙红雷',\n          label: '孙红雷'\n        }, {\n          key: '1',\n          value: '张艺兴',\n          label: '张艺兴'\n        }, {\n          key: '2',\n          value: '王迅',\n          label: '王迅'\n        }]\n      }, {\n        placeholder: '处理类型',\n        bindRef: 'handleType',\n        class: 'filter-item',\n        optionArr: [{\n          key: '0',\n          value: '正常处理',\n          label: '正常处理'\n        }, {\n          key: '1',\n          value: '改善处理',\n          label: '改善处理'\n        }, {\n          key: '2',\n          value: '补充处理',\n          label: '补充处理'\n        }, {\n          key: '3',\n          value: '重发处理',\n          label: '重发处理'\n        }]\n      }, {\n        placeholder: '解决负责人',\n        bindRef: 'solvePerson',\n        class: 'filter-item',\n        optionArr: [{\n          key: '0',\n          value: '雷佳音',\n          label: '雷佳音'\n        }, {\n          key: '1',\n          value: '热巴',\n          label: '热巴'\n        }, {\n          key: '2',\n          value: '岳云鹏',\n          label: '岳云鹏'\n        }]\n      }]\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    dt_srm_pdn: function dt_srm_pdn(state) {\n      return state.dict.dt_srm_pdn;\n    },\n    dt_srm_pc5: function dt_srm_pc5(state) {\n      return state.dict.dt_srm_pc5;\n    },\n    dt_srm_pc4: function dt_srm_pc4(state) {\n      return state.dict.dt_srm_pc4;\n    },\n    dt_srm_pc3: function dt_srm_pc3(state) {\n      return state.dict.dt_srm_pc3;\n    }\n  })),\n  mounted: function mounted() {\n    this.$store.dispatch(\"dict/getDicData\", ['dt_srm_pdn', 'dt_srm_pc5', 'dt_srm_pc4', 'dt_srm_pc3']);\n  },\n  methods: {\n    //申请单位\n    showOrg: function showOrg() {\n      this.$refs.refOrg.dialogVisible = true;\n    },\n    //申请单位确定\n    confirmOrg: function confirmOrg(data) {\n      console.log(data);\n\n      if (data) {\n        this.$set(this.temp, 'editOrgCode', data[0].organizationCode);\n        this.$set(this.temp, 'number6', data[0].organizationName);\n      } else {\n        this.$set(this.temp, 'editOrgCode', undefined);\n        this.$set(this.temp, 'number6', undefined);\n      }\n    },\n    //人员选择\n    showPerson: function showPerson(val) {\n      console.log(val, 'person');\n\n      if (val == 'TJperson') {\n        this.titlePerson = '提交人';\n      } else if (val == 'QRperson') {\n        this.titlePerson = '确认人';\n      } else {\n        this.titlePerson = '解决负责人';\n      }\n\n      this.$refs.person.dialogVisible = true;\n    },\n    //人员选择确定\n    personConfirm: function personConfirm(val) {\n      if (this.titlePerson == '提交人') {\n        if (val.length > 0) {\n          this.$set(this.temp, 'submitPerson', val[0].employeeCode);\n          this.$set(this.temp, 'submitPersonName', val[0].employeeName);\n        } else {\n          this.$set(this.temp, 'submitPerson', undefined);\n          this.$set(this.temp, 'submitPersonName', undefined);\n        }\n      }\n\n      if (this.titlePerson == '确认人') {\n        if (val.length > 0) {\n          this.$set(this.temp, 'confirmPerson', val[0].employeeCode);\n          this.$set(this.temp, 'confirmPersonName', val[0].employeeName);\n        } else {\n          this.$set(this.temp, 'confirmPerson', undefined);\n          this.$set(this.temp, 'confirmPersonName', undefined);\n        }\n      }\n\n      if (this.titlePerson == '解决负责人') {\n        if (val.length > 0) {\n          this.$set(this.temp, 'solvePerson', val[0].employeeCode);\n          this.$set(this.temp, 'solvePersonName', val[0].employeeName);\n        } else {\n          this.$set(this.temp, 'solvePerson', undefined);\n          this.$set(this.temp, 'solvePersonName', undefined);\n        }\n      }\n    },\n    showGys: function showGys() {\n      this.$refs.refGys.dialogVisible = true;\n      this.$refs.refGys.getList();\n    },\n    //供应商选择确定\n    handleGysClick: function handleGysClick(val) {\n      console.log(val);\n      this.$set(this.listQuery, 'supplierName', val[0].supplierName);\n      this.$set(this.listQuery, 'supplierCode', val[0].supplierCode);\n    },\n    //物料分类\n    handleClassifyCode: function handleClassifyCode() {\n      if (this.temp.orgCode) {\n        this.$refs.wlfl.listQuery.orgCode = this.temp.orgCode;\n        this.$refs.wlfl.selectedRows = [];\n        this.$refs.wlfl.handleQuery();\n        this.$refs.wlfl.dialogVisible = true;\n      } else {\n        this.$message({\n          type: 'warning',\n          message: '请先选择采购组织'\n        });\n      }\n    },\n    //物料分类选择确定\n    confirmClassify: function confirmClassify(data) {\n      this.$set(this.temp, 'materialClassification', data[0].classCode);\n      this.$set(this.temp, 'materialClassificationName', data[0].className);\n    },\n    create: function create() {},\n    update: function update() {},\n    handlewlfl: function handlewlfl() {\n      var _this = this;\n\n      this.dialogwlVisible = true;\n      api.selecttree().then(function (response) {\n        //获取树数据\n        _this.treeData = _this.$myFun.addTreeRoot(response.data);\n      });\n    }\n  }\n};",null]}