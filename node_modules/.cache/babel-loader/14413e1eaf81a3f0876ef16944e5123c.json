{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/OA/purchase/purchasing_Order_Formulation/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/OA/purchase/purchasing_Order_Formulation/index.vue","mtime":1596610933594},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _toConsumableArray from \"/Users/yuan/Documents/\\u5927\\u5510\\u5E7F\\u7535/dt-web/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"core-js/modules/es6.array.find\";\nimport _objectSpread from \"/Users/yuan/Documents/\\u5927\\u5510\\u5E7F\\u7535/dt-web/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as api from '@/api/project/oa/purchase/purchasing_Order_Formulation';\nimport { DT_ORG_TYPE, DICT_CODE } from '@/utils/constant';\nimport warehouseSelect from '@/components/Select/warehouse-select.vue'; //下拉组件\n\nimport caiGou from '@/components/Select/xtpt/caigou.vue'; //下拉组件\n\nimport gysxz from '@/components/Select/gysxz'; //供应商选择\n\nimport wlxzbySourceList from \"@/components/Select/wlxzbySourceList\"; //物料信息模块\n\nimport Pagination from \"@/components/Pagination\";\nimport purchasingPersonnel from \"./purchasingPersonnel\"; //采购计划员\n\nimport { mapState } from 'vuex';\nexport default {\n  name: \"purchasing_Order_Formulation\",\n  components: {\n    Pagination: Pagination,\n    caiGou: caiGou,\n    gysxz: gysxz,\n    warehouseSelect: warehouseSelect,\n    wlxzbySourceList: wlxzbySourceList,\n    purchasingPersonnel: purchasingPersonnel\n  },\n  data: function data() {\n    return {\n      modalnum: null,\n      //模板编号\n      theight: 0,\n      tableKey: [0, 1],\n      //表格索引，虚拟dom渲染表格时使用\n      isSingle: true,\n      //表格是否单选 点击各按钮根据流程逻辑控制单多选\n      currentSelectedRow: null,\n      //当前选中的行\n      selectedRows: null,\n      //多选时选中的所有行\n      list: [],\n      total: 0,\n      listQuery: {\n        currentPage: 1,\n        pageSize: 10,\n        businessType: undefined,\n        arrivalCompany: undefined,\n        arrivalRepository: undefined,\n        supplierName: undefined,\n        state: undefined\n      },\n      isChangeAddS: false,\n      //供应商选择控制\n      parentsRows: [],\n      parentsRows1: null,\n      parentsRows3: null,\n      list1: [],\n      total1: 0,\n      listQuery1: {\n        currentPage: 1,\n        pageSize: 10,\n        orderNumber: undefined\n      },\n      isEdit: true,\n      list2: [],\n      total2: 0,\n      listQuery2: {\n        currentPage: 1,\n        pageSize: 10\n      },\n      listLoading: true,\n      showReviewer: false,\n      temp: {\n        supplierCode: '',\n        unMutiple: true\n      },\n      dialogFormVisible: false,\n      gysxzDialogFormVisible: false,\n      //供应商弹框显示\n      isGysRequired: false,\n      //供应商非必选\n      gysMutiple: true,\n      //供应商单选\n      wlxzDialogFormVisible: false,\n      purchasingPersonnelDialogFormVisible: false,\n      dialogStatus: '',\n      DT_ORG_TYPE: DT_ORG_TYPE,\n      DICT_CODE: DICT_CODE,\n      rules: {\n        businessType: [{\n          required: true,\n          message: this.$t('validate.required'),\n          trigger: 'blur'\n        }],\n        purchaseClassify: [{\n          required: true,\n          message: this.$t('validate.required'),\n          trigger: 'blur'\n        }],\n        arrivalCompany: [{\n          required: true,\n          message: this.$t('validate.required'),\n          trigger: 'blur'\n        }],\n        orgCode: [{\n          required: true,\n          message: this.$t('validate.required'),\n          trigger: 'blur'\n        }],\n        groupCode: [{\n          required: true,\n          message: this.$t('validate.required'),\n          trigger: 'blur'\n        }],\n        supplierName: [{\n          required: true,\n          message: this.$t('validate.required'),\n          trigger: 'blur'\n        }],\n        purchaseEmp: [{\n          required: true,\n          message: this.$t('validate.required'),\n          trigger: 'blur'\n        }],\n        supplierCode: [{\n          required: true,\n          message: this.$t('validate.required'),\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    dt_dd_state: function dt_dd_state(state) {\n      return state.dict.dt_dd_state;\n    },\n    dt_ckyw_tpye: function dt_ckyw_tpye(state) {\n      return state.dict.dt_ckyw_tpye;\n    },\n    dt_purchase_class: function dt_purchase_class(state) {\n      return state.dict.dt_purchase_class;\n    }\n  })),\n  mounted: function mounted() {\n    var _this = this;\n\n    this.setTableHeight(); //表格高度自适应\n\n    window.onresize = function () {\n      _this.setTableHeight();\n    };\n\n    this.$store.dispatch('dict/getDicData', ['dt_dd_state', 'dt_ckyw_tpye', 'dt_purchase_class']);\n    this.getList();\n  },\n  watch: {\n    tb: function tb() {\n      var _this2 = this;\n\n      this.$nextTick(function () {\n        _this2.$refs.tb.toggleRowSelection(_this2.tb[0], true);\n      });\n    }\n  },\n  methods: {\n    //表格高度计算\n    setTableHeight: function setTableHeight() {\n      this.theight = this.$myFun.getSingleTbHeight() - 185;\n    },\n    getList: function getList() {\n      var _this3 = this;\n\n      //查询\n      // this.listLoading = true\n      api.selectList(this.listQuery).then(function (response) {\n        var options = [_this3.dt_dd_state, _this3.dt_ckyw_tpye, _this3.dt_purchase_class];\n        response = _this3.$myFun.codeToName(response.data, options, ['state', 'businessType', 'purchaseClassify']);\n        _this3.list = response.list;\n        _this3.total = response.pages.count;\n\n        _this3.$nextTick(function () {\n          this.checked();\n        }); // Just to simulate the time of the request\n\n\n        setTimeout(function () {\n          _this3.listLoading = false;\n        }, 1.5 * 100);\n      });\n      this.listLoading = false;\n    },\n    checked: function checked() {\n      this.$refs.tb.toggleRowSelection(this.list[0], true); //官网方法，重点\n    },\n    resetTemp: function resetTemp() {\n      //重置temp\n      this.temp = {\n        materielselect: 1,\n        supplierCode: ''\n      };\n    },\n    handelRefresh: function handelRefresh() {\n      //刷新\n      this.isEdit = false;\n      this.list2 = [];\n    },\n    isIntegerNotMust: function isIntegerNotMust(event) {\n      //验证正整数\n      var value = event.target.value;\n\n      if (!/^\\+?[1-9][0-9]*$/.test(value)) {\n        this.$message({\n          title: \"警告\",\n          message: \"只能正整数\",\n          type: \"warning\"\n        });\n        event.target.value = '';\n      }\n    },\n    getList2: function getList2() {\n      //新增弹窗内查询\n      this.listLoading = false;\n    },\n    selectRow1: function selectRow1(val) {\n      //获取关联选中信息\n      this.selectListRow1 = val;\n    },\n    selectRow2: function selectRow2(val) {\n      //获取关联选中信息\n      this.selectListRow2 = val;\n    },\n    selectRow: function selectRow(val) {\n      var _this4 = this;\n\n      //获取表一选中信息\n      this.selectListRow = val[val.length - 1];\n\n      if (val.length > 1) {\n        this.$refs.tb.clearSelection(); //清除其他行的选中\n\n        this.$refs.tb.toggleRowSelection(val[val.length - 1], 'selected'); //单击行绑定点击事件\n      }\n\n      this.$refs.tb.setCurrentRow(this.selectListRow);\n\n      if (this.selectListRow) {\n        this.listQuery1.orderNumber = this.selectListRow.orderNumber; //总是获取当前数组最后一个值\n\n        api.selectListItems(this.listQuery1).then(function (res) {\n          _this4.list1 = res.data.list;\n          _this4.total1 = res.data.pages.count;\n        });\n      } else {\n        this.list1 = [];\n      }\n    },\n    openDetails: function openDetails(val) {\n      var _this5 = this;\n\n      //表一行点击，拉去表二信息\n      this.$refs.tb.clearSelection(); //清除其他行的选中\n\n      this.$refs.tb.toggleRowSelection(val); //单击行绑定点击事件\n\n      if (this.selectListRow) {\n        this.listQuery1.orderNumber = this.selectListRow.orderNumber; //总是获取当前数组最后一个值\n      }\n\n      api.selectListItems(this.listQuery1).then(function (res) {\n        _this5.list1 = res.list;\n        _this5.total1 = res.pages.count;\n      });\n    },\n    handleFilter: function handleFilter() {\n      //查询\n      this.getList();\n    },\n    handleDelete: function handleDelete() {\n      var _this6 = this;\n\n      //删除表一\n      if (this.selectListRow && (this.selectListRow.state == 'CREATE' || this.selectListRow.state == 'FEEDBACK')) {\n        this.$confirm('此操作将删除所选中数据, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          api.deleteList(_this6.selectListRow.orderNumber).then(function () {\n            _this6.getList();\n\n            _this6.$message({\n              title: \"成功\",\n              message: \"删除成功\",\n              type: \"success\"\n            });\n          });\n        }).catch(function () {\n          _this6.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n      } else {\n        this.$message({\n          title: \"警告\",\n          message: \"请选择一条已创建(CREATE)或已反馈(FEEDBACK)的信息\",\n          type: \"warning\"\n        });\n      }\n    },\n    handleDelete1: function handleDelete1() {//删除表二\n    },\n    handleDelete2: function handleDelete2() {\n      //删除弹窗表格\n      if (this.selectListRow2 && this.selectListRow2.length > 0) {\n        this.list2 = this.$myFun.getArrDifference(this.list2, this.selectListRow2);\n      } else {\n        this.$message({\n          title: \"警告\",\n          message: \"请选择一条信息\",\n          type: \"warning\"\n        });\n      }\n    },\n    handlegPersonnel: function handlegPersonnel() {\n      //业务人员\n      this.purchasingPersonnelDialogFormVisible = true;\n    },\n    purchasingPersonnels: function purchasingPersonnels(row) {\n      this.parentsRows3 = row;\n    },\n    handleDblclickWlxz: function handleDblclickWlxz(row) {\n      this.parentsRows1 = row;\n    },\n    showGysxz: function showGysxz(val) {\n      if (val === \"add\") {\n        this.isChangeAddS = true;\n      }\n\n      this.$refs.dialogRefgys.dialogVisible = !this.$refs.dialogRefgys.dialogVisible;\n    },\n    //供应商确认\n    handleGysClick: function handleGysClick(gysRows) {\n      this.parentsRows = gysRows;\n\n      if (!this.isChangeAddS) {\n        if (!this.parentsRows[0]) {\n          this.listQuery.supplierCode = \"\";\n          this.listQuery.supplierName = \"\";\n          this.$refs.dialogRefgys.dialogVisible = false;\n        } else if (this.parentsRows.length === 1) {\n          this.listQuery.supplierCode = this.parentsRows[0].supplierCode;\n          this.listQuery.supplierName = this.parentsRows[0].supplierName;\n          this.$refs.dialogRefgys.dialogVisible = false;\n        }\n      } else {\n        if (!this.parentsRows[0]) {\n          this.$message({\n            title: this.$t(\"message.warning\"),\n            message: this.$t(\"message.checkedplease\"),\n            type: \"warning\"\n          });\n        } else {\n          this.temp.supplierCode = this.parentsRows[0].supplierCode;\n          this.temp.supplierName = this.parentsRows[0].supplierName;\n          this.gysxzDialogFormVisible = false;\n        }\n\n        this.isChangeAddS = false;\n      }\n    },\n    // update1(){//供应商选中弹窗确认按钮\n    //     if (!this.isChangeAddS) {\n    //         if(!this.parentsRows[0]){\n    //             this.listQuery.supplierCode = \"\";\n    //             this.listQuery.supplierName = \"\";\n    //             this.gysxzDialogFormVisible = false;\n    //         }else if(this.parentsRows.length === 1){\n    //             this.listQuery.supplierCode = this.parentsRows[0].supplierCode;\n    //             this.listQuery.supplierName = this.parentsRows[0].supplierName;\n    //             this.gysxzDialogFormVisible = false;\n    //         }\n    //     } else {\n    //         if(!this.parentsRows[0]){\n    //             this.$message({\n    //                 title: this.$t(\"message.warning\"),\n    //                 message: this.$t(\"message.checkedplease\"),\n    //                 type: \"warning\"\n    //             });\n    //         }else{\n    //             this.temp.supplierCode = this.parentsRows[0].supplierCode;\n    //             this.temp.supplierName = this.parentsRows[0].supplierName;\n    //             this.gysxzDialogFormVisible = false;\n    //         }\n    //         this.isChangeAddS = false;\n    //     }\n    // },\n    update2: function update2() {\n      //物料选中中弹窗确认按钮\n      if (this.$refs.wlxzRef.listSelected.length > 0) {\n        this.list2 = this.$refs.wlxzRef.listSelected.map(function (v) {\n          v.snp = v.snp2;\n          return v;\n        });\n        this.wlxzDialogFormVisible = false;\n      } else {\n        this.$message({\n          title: \"警告\",\n          message: \"请选择一条信息\",\n          type: \"warning\"\n        });\n      }\n    },\n    update3: function update3() {\n      //采购计划员中弹窗确认按钮\n      if (this.parentsRows3.length && this.parentsRows3.length == 1) {\n        // this.temp.supplierCode = this.parentsRows3[0].employeeCode;\n        this.temp.purchaseEmp = this.parentsRows3[0].employeeCode;\n        this.temp.purchaseEmpName = this.parentsRows3[0].employeeName;\n        this.purchasingPersonnelDialogFormVisible = false;\n      } else {\n        this.$message({\n          title: \"警告\",\n          message: \"请选择一条信息\",\n          type: \"warning\"\n        });\n      }\n    },\n    handleCreate: function handleCreate() {\n      //新增\n      this.resetTemp(); // this.list2=null\n\n      this.list2 = [];\n      this.dialogStatus = 'create';\n      this.dialogFormVisible = true;\n      this.isEdit = false;\n    },\n    arrivalCompanyName: function arrivalCompanyName(name) {\n      //到货单位\n      this.temp.arrivalCompanyName = name;\n    },\n    orgName: function orgName(name) {\n      //组织编码\n      this.temp.orgName = name;\n    },\n    groupName: function groupName(name) {\n      //采购组名称\n      this.temp.groupName = name;\n    },\n    purchaseClassifyName: function purchaseClassifyName(vId) {\n      //采购分类名称\n      var obj = {};\n      obj = this.dt_purchase_class.find(function (item) {\n        //这里的userList就是上面遍历的数据源\n        return item.dictItemKey === vId; //筛选出匹配数据\n      });\n      this.temp.purchaseClassifyName = obj.dictItemValue;\n    },\n    arrivalRepositoryName: function arrivalRepositoryName(name) {\n      //到货仓库名称\n      this.list2[this.rowIndex].arrivalRepositoryName = name;\n    },\n    selectArrivalRepository: function selectArrivalRepository(index) {\n      //获取所在行的ID\n      this.rowIndex = index;\n    },\n    createData: function createData() {\n      var _this7 = this;\n\n      //新增确认按钮\n      this.$refs['dataForm'].validate(function (valid) {\n        if (valid) {\n          for (var i = 0; i < _this7.list2.length; i++) {\n            _this7.list2[i].arrivalCompany = _this7.temp.arrivalCompany;\n            _this7.list2[i].arrivalCompanyName = _this7.temp.arrivalCompanyName;\n\n            if (!_this7.list2[i].purchaseMeasuringUnit) {\n              _this7.list2[i].purchaseMeasuringUnit = _this7.list2[i].measuringUnit;\n              _this7.list2[i].purchaseMeasuringUnitName = _this7.list2[i].measuringUnitName;\n            }\n          }\n\n          _this7.temp.purchaseOrderItemList = _this7.list2.map(function (v) {\n            // if(!v.snp){\n            //     v.snp=1\n            // }\n            if (!v.transferRate) {\n              v.transferRate = 1;\n            }\n\n            return v;\n          });\n          api.creatList(_this7.temp).then(function () {\n            _this7.$message({\n              title: \"成功\",\n              message: \"新增成功\",\n              type: \"success\"\n            });\n\n            _this7.dialogFormVisible = false;\n\n            _this7.getList();\n          });\n        }\n      });\n    },\n    handleCreate1: function handleCreate1() {\n      //弹窗内新增\n      this.dialogStatus = 'create';\n      this.dialogFormVisible = true;\n    },\n    handleUpdate: function handleUpdate() {\n      //编辑\n      if (this.selectListRow && (this.selectListRow.state == 'CREATE' || this.selectListRow.state == 'FEEDBACK')) {\n        this.dialogFormVisible = true;\n        this.dialogStatus = 'update';\n        this.temp = this.selectListRow;\n        this.list2 = this.list1;\n        this.isEdit = true;\n      } else {\n        this.$message({\n          title: \"警告\",\n          message: \"请选择一条已确认或者已反馈的信息\",\n          type: \"warning\"\n        });\n      }\n    },\n    updateData: function updateData() {\n      var _this8 = this;\n\n      //编辑确认按钮\n      for (var i = 0; i < this.list2.length; i++) {\n        this.list2[i].arrivalCompany = this.temp.arrivalCompany;\n        this.list2[i].remark = '';\n      }\n\n      this.temp.purchaseOrderItemList = this.list2;\n      api.updataList(this.temp).then(function () {\n        _this8.getList();\n\n        _this8.$message({\n          title: \"成功\",\n          message: \"编辑成功\",\n          type: \"success\"\n        });\n\n        _this8.dialogFormVisible = false;\n      });\n    },\n    handleCreate2: function handleCreate2() {\n      var _this9 = this;\n\n      //物料信息弹窗\n      if (this.temp.supplierCode && this.temp.orgCode && this.temp.arrivalCompany && this.temp.groupCode && this.temp.purchaseEmp) {\n        this.wlxzDialogFormVisible = true;\n        this.isEdit = true;\n        this.$nextTick(function () {\n          _this9.$refs.wlxzRef.listQuery.toOrgCode = _this9.temp.arrivalCompany;\n          _this9.$refs.wlxzRef.listQuery.orgCode = _this9.temp.orgCode;\n          _this9.$refs.wlxzRef.listQuery.supplierCode = _this9.temp.supplierCode;\n          _this9.$refs.wlxzRef.listSelected = _toConsumableArray(_this9.list2);\n\n          _this9.$refs.wlxzRef.getList();\n        });\n      } else {\n        this.$message({\n          title: \"警告\",\n          message: \"请先选择必填项\",\n          type: \"warning\"\n        });\n      }\n    },\n    handleSubmit: function handleSubmit() {\n      var _this10 = this;\n\n      //提交\n      if (this.selectListRow && (this.selectListRow.state == 'CREATE' || this.selectListRow.state == 'FEEDBACK')) {\n        this.$confirm('此操作将提交所选中数据, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          _this10.selectListRow.method = 'RELEASE';\n          api.handleList(_this10.selectListRow).then(function () {\n            _this10.getList();\n\n            _this10.$message({\n              title: \"成功\",\n              message: \"确认成功\",\n              type: \"success\"\n            });\n          });\n        }).catch(function () {\n          _this10.$message({\n            type: 'info',\n            message: '已取消提交'\n          });\n        });\n      } else {\n        this.$message({\n          title: \"警告\",\n          message: \"请选择一条已创建(CREATE)或已反馈(FEEDBACK)的信息\",\n          type: \"warning\"\n        });\n      }\n    },\n    handleCancel: function handleCancel() {\n      var _this11 = this;\n\n      //作废\n      if (this.selectListRow && this.selectListRow.state == 'RELEASE') {\n        this.$confirm('此操作将作废所选中数据, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          _this11.selectListRow.method = 'CANCEL';\n          api.handleList(_this11.selectListRow).then(function () {\n            _this11.getList();\n\n            _this11.$message({\n              title: \"成功\",\n              message: \"作废成功\",\n              type: \"success\"\n            });\n          });\n        }).catch(function () {\n          _this11.$message({\n            type: 'info',\n            message: '已取消作废'\n          });\n        });\n      } else {\n        this.$message({\n          title: \"警告\",\n          message: \"请选择一条已发布(RELEASE)的信息\",\n          type: \"warning\"\n        });\n      }\n    },\n    handleClosed: function handleClosed() {\n      var _this12 = this;\n\n      //整单关闭\n      if (this.selectListRow && this.selectListRow.state == 'CONFIRM') {\n        this.$confirm('此操作将整单关闭所选中数据, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          _this12.selectListRow.method = 'CLOSE';\n          api.handleList(_this12.selectListRow).then(function () {\n            _this12.getList();\n\n            _this12.$message({\n              title: \"成功\",\n              message: \"整单关闭成功\",\n              type: \"success\"\n            });\n          });\n        }).catch(function () {\n          _this12.$message({\n            type: 'info',\n            message: '已取消整单关闭'\n          });\n        });\n      } else {\n        this.$message({\n          title: \"警告\",\n          message: \"请选择一条已确认(CONFIRM)的信息\",\n          type: \"warning\"\n        });\n      }\n    },\n    handleClosedOne: function handleClosedOne() {\n      var _this13 = this;\n\n      //订单单行关闭\n      if (this.selectListRow1 && this.selectListRow1.length > 0 && this.selectListRow.state == 'CONFIRM') {\n        this.$confirm('此操作将单行关闭所选中数据, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(function () {\n          var rowIds = _this13.selectListRow1.map(function (item) {\n            return item.rowNo;\n          });\n\n          _this13.selectListRow.rowNos = rowIds;\n          api.closedListItems(_this13.selectListRow).then(function () {\n            _this13.$message({\n              title: \"成功\",\n              message: \"订单单行关闭成功\",\n              type: \"success\"\n            });\n\n            _this13.getList();\n          });\n        }).catch(function () {\n          _this13.$message({\n            type: 'info',\n            message: '已取消单行关闭'\n          });\n        });\n      } else {\n        this.$message({\n          title: \"警告\",\n          message: \"请选择一条已确认的信息\",\n          type: \"warning\"\n        });\n      }\n    },\n    open: function open() {\n      this.dialogStatus = 'create';\n      this.dialogFormVisible = true;\n    }\n  }\n};",null]}