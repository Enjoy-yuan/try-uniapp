{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/dt-web/node_modules/eslint-loader/index.js??ref--13-0!/Users/yuan/Documents/大唐广电/dt-web/src/store/modules/businessComponent.js","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/store/modules/businessComponent.js","mtime":1596611178193},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.regexp.split\";\nimport request from '@/utils/request';\nvar state = {\n  dt_materiel_transfer_type_screenGroupNum: {\n    //移动业务类型\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: '52'\n    },\n    options: []\n  },\n  dt_llrk_transfer_screenGroupNum: {\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'llrk001'\n    },\n    options: []\n  },\n  dt_busi_type_screenGroupNum: {\n    //销售出库业务类型\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'SaleOut'\n    },\n    options: []\n  },\n  //部门领用业务类型\n  dt_use_type_screenGroupNum: {\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'value'\n    },\n    options: []\n  },\n  dt_return_type_screenGroupNum: {\n    //生产退料指示业务类型\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'sctl'\n    },\n    options: []\n  },\n  dt_push_type_screenGroupNum: {\n    //投料出库业务类型\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'Delivery'\n    },\n    options: []\n  },\n  dt_work_center_workshop: {\n    //车间\n    url: '/base-modeling/work-centers',\n    arg: {\n      key: 'workCenterClass',\n      value: 'dt_workcenter_class_shop'\n    },\n    options: []\n  },\n  dt_business_type_screenGroupNum: {\n    //入库业务类型\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'SH4'\n    },\n    options: []\n  },\n  dt_business_type_screenGroupNum_yk: {\n    //移库\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'yk'\n    },\n    options: []\n  },\n  dt_cx_type_screenGroupNum_wzsdb: {\n    //冲销\n    url: '/iwms/warehouses/rules/group/Reversal',\n    arg: {\n      key: '',\n      value: 'Reversal'\n    },\n    options: []\n  },\n  dt_business_type_screenGroupNum_db: {\n    //调拨\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'out'\n    },\n    options: []\n  },\n  dt_business_type_screenGroupNum_wzsdb: {\n    //无指示调拨\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'wzsdb'\n    },\n    options: []\n  },\n  dt_materiel_transfer_type_screenGroupNum_SH2: {\n    //移动业务类型\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'SH2'\n    },\n    options: []\n  },\n  dt_materiel_transfer_type: {\n    //所有业务类型\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_purchase_return_type: {\n    //采购订单退货\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'procurereturnbypo'\n    },\n    options: []\n  },\n  dt_uninstructed_return: {\n    //无指示退货\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'wzsth'\n    },\n    options: []\n  },\n  dt_wzs_type_screenGroupNum: {\n    //无指示生产退料指示业务类型\n    url: '/iwms/warehouses/rules',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'wzs'\n    },\n    options: []\n  },\n  dt_org_code_factory: {\n    //获取组织类型为工厂的信息组织信息\n    url: '/keyguard/organizations',\n    arg: {\n      key: 'type',\n      value: 'dt_org_type_factory'\n    },\n    options: []\n  },\n  dt_org_data: {\n    //获取组织所有组织编码和组织名称\n    url: '/keyguard/organizations',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_materiel_transfer_type_bf: {\n    //移动业务类型0550，报废功能\n    url: '/iwms/warehouses/rules/group/bf',\n    api: 'fetch',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_business_type_screenGroupNum_wwsh: {\n    //委外收货\n    url: '/iwms/warehouses/rules/group/wwsh',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'wwsh'\n    },\n    options: []\n  },\n  dt_business_type_screenGroupNum_ww: {\n    //委外加工\n    url: '/iwms/warehouses/rules/group/outsourcing',\n    api: 'request',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'outsourcing'\n    },\n    options: []\n  },\n  dt_business_type_screenGroupNum_zsknjg: {\n    //指示库内加工\n    url: '/iwms/warehouses/rules/group/ZSKNJG',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_business_type_screenGroupNum_knjg: {\n    //库内加工\n    url: '/iwms/warehouses/rules/group/KNJG',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_cx_type_screenGroupNum_rkpz: {\n    //冲销\n    url: '/iwms/warehouses/rules/group/rkpz',\n    arg: {\n      key: 'screenGroupNum',\n      value: 'rkpz'\n    },\n    options: []\n  },\n  dt_nh_energyItem_list: {\n    // 查询能耗分项\n    url: '/ems/EnergyItem/ItemList',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_nh_energyType_list: {\n    // 查询能源分类\n    url: '/ems/EnergyType/list',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_sb_modelDetail_list: {\n    // 查询生产设备\n    url: '/ems/modelDetail/getProductList',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_sb_meterType_list: {\n    //  查询仪表型号\n    url: '/ems/meterType/typeList',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_sb_meterKind_list: {\n    //  查询仪表类别\n    url: '/ems/meterKind/kindList',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_sb_modelList: {\n    //  计量仪表故障接口\n    url: '/ems/modelDetail/modelList',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_gx_setp_list: {\n    //  查询仪表型号\n    url: '/ems/dtProcessStep',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_cp_product_list: {\n    // 查询产品列表\n    url: '/ems/dtProduct',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  // productType\n  dt_cp_product_list_productType: {\n    // 查询产品列表 批量型\n    url: '/ems/dtProduct',\n    arg: {\n      key: 'productType',\n      value: 'batch'\n    },\n    options: []\n  },\n  dt_cp_product_list_dispersed: {\n    // 查询产品列表 离散型\n    url: '/ems/dtProduct',\n    arg: {\n      key: 'productType',\n      value: 'dispersed'\n    },\n    options: []\n  },\n  dt_qyjb_md_list: {\n    // 查询企业列表\n    url: '/ems/indicatorsSynthesisEnergy/MdDictItems',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_organization_list: {\n    // 查询组织列表\n    url: '/keyguard/organizations',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_work_workCenterLevel: {\n    // 查询工作中心等级\n    url: '/ems/indicatorsSynthesisEnergy/workCenterLevel',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_gc_factory_list: {\n    url: '/ems/setWorkshopEnergy/factory',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_cx_product_line: {\n    url: '/ems/setProductLineEnergy',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  },\n  dt_product_line_list: {\n    url: '/ems/dtProductLineReportWork/productLineList',\n    arg: {\n      key: '',\n      value: ''\n    },\n    options: []\n  } //\n  //一条重要的原则就是要记住 mutation 必须是同步函数\n\n};\nvar mutations = {\n  getBusinessComponentData: function getBusinessComponentData(state, data) {\n    if (state[data.filterParameters].arg.key) {\n      state[data.filterParameters].options = data.res.filter(function (v) {\n        //多显示组处理\n        if (v[state[data.filterParameters].arg.key]) {\n          var par = v[state[data.filterParameters].arg.key].split(',');\n          var isEqual = false;\n          par.forEach(function (item) {\n            if (item === state[data.filterParameters].arg.value) {\n              isEqual = true;\n            }\n          });\n\n          if (isEqual) {\n            return v;\n          }\n        } else {\n          if (v[state[data.filterParameters].arg.key] == state[data.filterParameters].arg.value) {\n            return v;\n          }\n        }\n      });\n    } else {\n      state[data.filterParameters].options = data.res;\n    }\n  }\n};\nvar actions = {\n  getBusinessComponentData: function getBusinessComponentData(context, filterParameters) {\n    var query = {\n      currentPage: 1,\n      pageSize: 1000\n    };\n\n    var _loop = function _loop(i) {\n      if (state[filterParameters[i]].options.length == 0) {\n        request({\n          url: state[filterParameters[i]].url,\n          method: 'get',\n          params: query\n        }).then(function (res) {\n          res = Array.isArray(res) ? res : Array.isArray(res.data.list) ? res.data.list : Array.isArray(res.data) ? res.data : ''; // commit参数不能继续在后面加,我们可以将参数以对象的方式传进去，多个属性就是多个参数了。\n\n          context.commit('getBusinessComponentData', {\n            filterParameters: filterParameters[i],\n            res: res\n          });\n        });\n      }\n    };\n\n    for (var i = 0; i < filterParameters.length; i++) {\n      _loop(i);\n    }\n  }\n};\nexport default {\n  namespaced: true,\n  state: state,\n  mutations: mutations,\n  actions: actions\n};",null]}