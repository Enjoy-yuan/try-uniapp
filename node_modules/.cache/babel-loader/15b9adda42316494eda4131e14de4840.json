{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EMS/energyReport/productionLineAnalysis/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EMS/energyReport/productionLineAnalysis/index.vue","mtime":1596610933525},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as api from '@/api/project/ems/energyReport/productionLineAnalysis.js';\nimport Bar from '@/views/project/EMS/energyReport/temp/bar.vue';\nexport default {\n  name: 'productionLineAnalysis',\n  components: {\n    Bar: Bar\n  },\n  data: function data() {\n    return {\n      theight: 0,\n      //表格高度\n      list: [],\n      xAxis: undefined,\n      chartData: null,\n      listQuery: {\n        //查询\n        monthDate: undefined\n      },\n      color: ['#fd6361', '#02b7ae', '#37454e', '#606b6d', '#fd6361', '#ff9669', '#05b7ab'] //黄 蓝 黑 灰 红 橘  绿\n\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.setTableHeight(); //表格高度自适应\n\n    window.onresize = function () {\n      _this.setTableHeight();\n    };\n\n    this.getList();\n  },\n  destroyed: function destroyed() {\n    this.getList();\n  },\n  methods: {\n    //表格高度计算\n    setTableHeight: function setTableHeight() {\n      this.theight = this.$myFun.getSingleTbHeight() - 185 + 'px';\n    },\n    //获取表格数据\n    getList: function getList() {\n      var _this2 = this;\n\n      api.query(this.listQuery).then(function (response) {\n        _this2.list = JSON.parse(JSON.stringify(response.data));\n        _this2.xAxis = _this2.list.map(function (item) {\n          return item.productLineName;\n        });\n        var waterPlan = [];\n        var electricPlan = [];\n        var gasPlan = [];\n        var waterReal = [];\n        var electricReal = [];\n        var gasReal = [];\n        var waterLegend = ['水计划', '水实际'];\n        var eleLegend = ['电计划', '电实际'];\n        var gasLegend = ['气计划', '气实际'];\n\n        _this2.list.forEach(function (item) {\n          waterPlan.push(item.waterPlan);\n          electricPlan.push(item.electricPlan);\n          gasPlan.push(item.gasPlan);\n          waterReal.push(item.waterReal);\n          electricReal.push(item.electricReal);\n          gasReal.push(item.gasReal);\n        });\n\n        var waterSerie = [{\n          name: '水计划',\n          type: 'bar',\n          data: waterPlan,\n          itemStyle: {\n            normal: {\n              color: _this2.color[2]\n            }\n          }\n        }, {\n          name: '水实际',\n          type: 'bar',\n          data: waterReal,\n          itemStyle: {\n            normal: {\n              color: _this2.color[0]\n            }\n          }\n        }];\n        var eleSerie = [{\n          name: '电计划',\n          type: 'bar',\n          data: electricPlan,\n          itemStyle: {\n            normal: {\n              color: _this2.color[1]\n            }\n          }\n        }, {\n          name: '电实际',\n          type: 'bar',\n          data: electricReal,\n          itemStyle: {\n            normal: {\n              color: _this2.color[5]\n            }\n          }\n        }];\n        var gsSerie = [{\n          name: '气计划',\n          type: 'bar',\n          data: gasPlan,\n          itemStyle: {\n            normal: {\n              color: _this2.color[0]\n            }\n          }\n        }, {\n          name: '气实际',\n          type: 'bar',\n          data: gasReal,\n          itemStyle: {\n            normal: {\n              color: _this2.color[3]\n            }\n          }\n        }];\n        _this2.chartData = [{\n          id: 'waterSerie',\n          name: '水',\n          data: waterSerie,\n          legend: waterLegend\n        }, {\n          id: 'eleSerie',\n          name: '电',\n          data: eleSerie,\n          legend: eleLegend\n        }, {\n          id: 'gsSerie',\n          name: '气',\n          data: gsSerie,\n          legend: gasLegend\n        }];\n      });\n    },\n    deleteQuery: function deleteQuery() {\n      // 清除查询条件\n      this.listQuery.monthDate = undefined;\n      this.getList();\n    }\n  }\n};",null]}