{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/newProducts/projectManagement/projectMasterData/dialog/close.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/newProducts/projectManagement/projectMasterData/dialog/close.vue","mtime":1596611178283},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as api from \"@/api/project/srm/newProducts/projectMasterData\";\nimport throttle from 'lodash/throttle';\nexport default {\n  data: function data() {\n    return {\n      dialogVisible: false,\n      temp: {\n        rowId: undefined,\n        closeExplain: undefined\n      },\n      rules: {\n        closeExplain: [{\n          required: true,\n          message: '关闭说明不能为空',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    handleClose: function handleClose() {\n      this.$refs.dataForm.resetFields();\n    },\n    createData: throttle(function () {\n      var _this = this;\n\n      this.$refs.dataForm.validate(function (valid) {\n        if (valid) {\n          var dto = {\n            method: 'close',\n            rowId: _this.temp.rowId,\n            closeExplain: _this.temp.closeExplain\n          };\n          api.closeRecords(dto).then(function () {\n            _this.$message({\n              title: '成功',\n              message: '关闭成功',\n              type: 'success',\n              duration: 2000\n            });\n\n            _this.dialogVisible = false;\n\n            _this.$emit('refresh');\n          });\n        } else {\n          return false;\n        }\n      });\n    }, 2000, {\n      leading: true,\n      trailing: false\n    })\n  }\n};",null]}