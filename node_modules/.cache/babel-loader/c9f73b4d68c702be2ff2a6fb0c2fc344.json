{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/supplierManagement/supplierAccess/reviewFeedback/dialog/dialogFeedback.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/supplierManagement/supplierAccess/reviewFeedback/dialog/dialogFeedback.vue","mtime":1596610933946},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/yuan/Documents/\\u5927\\u5510\\u5E7F\\u7535/dt-web/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// import { createRecords, updateRecords } from \"@/api/productionMaterial/hand_pull_material\";\nimport { DICT_CODE } from '@/utils/constant';\nimport caiGou from '@/components/Select/xtpt/caigou'; //下拉组件\n\nimport { mapState, mapGetters } from \"vuex\";\nexport default {\n  name: 'dialogAdd',\n  components: {\n    caiGou: caiGou\n  },\n  props: ['title'],\n  data: function data() {\n    return {\n      DICT_CODE: DICT_CODE,\n      isEdit: false,\n      iscgEdit: false,\n      //采购是否可编辑\n      formData: {\n        rowId: null,\n        supplierName: null,\n        evaluateUser: null,\n        evaluateUserName: null,\n        investigateUser: null,\n        taskUser: null,\n        taskUserName: null,\n        investigate: false,\n        feedback: false,\n        investigateNo: null,\n        platformSeries: null,\n        orgCode: null,\n        orgName: null,\n        proposalNo: null,\n        materielClass: null,\n        materielClassName: null,\n        department: null,\n        kcreason: null,\n        purpose: null,\n        reason: null\n      },\n      // proposalItemDTOs: [],\n      listSelected: null,\n      //已选项\n      selectRowData: null,\n      dialogVisible: false,\n      rules: {\n        investigateUser: [{\n          required: true,\n          message: '请填写',\n          trigger: 'blur'\n        }],\n        reason: [{\n          max: 128,\n          message: '长度应小于128个字符',\n          trigger: 'blur'\n        }]\n      },\n      formConfig: [{\n        type: 'checkbox',\n        label: '是否考察',\n        prop: 'investigate',\n        width: '0'\n      }, {\n        type: 'checkbox',\n        label: '是否反馈',\n        prop: 'feedback',\n        width: '0'\n      }, {\n        type: 'commonInput',\n        label: '考察计划号',\n        prop: 'investigateNo',\n        width: ''\n      }, {\n        type: 'commonInput',\n        label: '采购组织',\n        prop: 'orgName',\n        width: '',\n        copmNum: 0\n      }, {\n        type: 'commonInput',\n        label: '变更/提案号',\n        prop: 'proposalNo',\n        width: ''\n      }, {\n        type: 'commonInput',\n        label: '供应商名称',\n        prop: 'supplierName',\n        width: ''\n      }, {\n        type: 'commonInput',\n        label: '物料分类',\n        prop: 'materielClassName',\n        width: ''\n      }, {\n        type: 'commonInput',\n        label: '考察部门',\n        prop: 'department',\n        width: ''\n      }, {\n        type: 'commonInput',\n        label: '考察人',\n        prop: 'investigateUser',\n        width: ''\n      }, {\n        type: 'inputBtnPerson',\n        code: 'evaluateUser',\n        name: 'evaluateUserName',\n        title: '评价人选择',\n        label: '评价人',\n        prop: 'evaluateUserName',\n        width: ''\n      }, {\n        type: 'textarea',\n        label: '考察原因',\n        prop: 'kcreason',\n        width: '800px',\n        rows: \"2\"\n      }, {\n        type: 'textarea',\n        label: '考察目的',\n        prop: 'purpose',\n        width: '800px',\n        rows: \"2\"\n      }, {\n        type: 'textarea',\n        label: '考察理由',\n        prop: 'reason',\n        width: '800px',\n        rows: \"2\"\n      }]\n    };\n  },\n  computed: _objectSpread({}, mapState({\n    dt_srm_pad: function dt_srm_pad(state) {\n      return state.dict.dt_srm_pad;\n    } //平台定位\n\n  }), mapGetters(['domainCode', 'domainCodeName'])),\n  mounted: function mounted() {\n    this.$store.dispatch(\"dict/getDicData\", [\"dt_srm_pad\"]);\n  },\n  watch: {\n    'rangeDate': function rangeDate(value) {\n      if (value) {\n        this.listQuery.startDate = value[0];\n        this.listQuery.endDate = value[1];\n      }\n    }\n  },\n  methods: {\n    handleConfirm: function handleConfirm() {\n      var _this = this;\n\n      this.$refs.refForm.validate(function (valid) {\n        if (valid) {\n          _this.$confirm('确认保存反馈吗?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }).then(function () {\n            var cdata = {\n              feedbackItemDTO: {\n                rowId: _this.formData.rowId,\n                investigateNo: _this.formData.investigateNo,\n                investigateUser: _this.formData.investigateUser,\n                evaluateUser: _this.formData.evaluateUser,\n                evaluateUserName: _this.formData.evaluateUserName,\n                investigate: _this.formData.investigate,\n                feedback: _this.formData.feedback,\n                reason: _this.formData.reason\n              },\n              method: \"FEEDBACK\"\n            };\n\n            _this.$emit('handleDialogClick', cdata);\n\n            _this.dialogVisible = false;\n          }).catch(function () {\n            _this.$message({\n              type: 'info',\n              message: '已取消'\n            });\n          });\n        }\n      });\n    },\n    // setInvestigateUser (code, name, val) {\n    //     this.$set(this.formData, code, val[0])\n    //     this.$set(this.formData, name, val[1])\n    // },\n    initForm: function initForm(row) {\n      for (var key in this.formData) {\n        for (var par in row) {\n          if (key === par) {\n            console.log(key, row[key]);\n\n            if (row[key]) {\n              this.$set(this.formData, key, row[key]);\n            }\n          }\n        }\n      }\n    },\n    showPerson: function showPerson(code, name, title) {\n      this.$emit('showPerson', code, name, title);\n    }\n  }\n};",null]}