{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/ER/equipmentMaintenance/tab4.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/ER/equipmentMaintenance/tab4.vue","mtime":1596610933401},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as api from '@/api/project/eas/er/equipmentMaintenance';\nexport default {\n  name: 'dispatchOrderManagement',\n  components: {},\n  props: ['workOrderNumber'],\n  data: function data() {\n    return {\n      // basurl:'113.57.169.228:7954',\n      fileList: [],\n      list: null,\n      newArr: [],\n      total: 0,\n      theight: 0,\n      //表格高度\n      listQuery: {\n        fileType: undefined\n      },\n      temp: {\n        fileType: undefined,\n        category: undefined,\n        fileCode: undefined,\n        readName: undefined\n      },\n      files: undefined,\n      tableKey: [0]\n    };\n  },\n  created: function created() {\n    this.getSetDefaults();\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.setTableHeight(); //表格高度自适应\n\n    window.onresize = function () {\n      _this.setTableHeight();\n    }; // this.getList()\n\n  },\n  methods: {\n    getList: function getList() {\n      var _this2 = this;\n\n      var fileType = 'img';\n      api.queryFile(this.workOrderNumber, fileType).then(function (res) {\n        _this2.list = res.data;\n        _this2.newArr = [];\n\n        for (var i = 0; i < _this2.list.length; i++) {\n          api.queryPic(_this2.list[i].readName).then(function (res) {\n            res.config.url = res.config.url.replace(process.env.VUE_APP_BASE_API11, process.env.VUE_APP_BASE_API11_URL);\n\n            _this2.newArr.push(res.config.url);\n\n            return _this2.newArr;\n          });\n        }\n      });\n    },\n    getSetDefaults: function getSetDefaults() {\n      this.$viewer.setDefaults({\n        inline: true,\n        button: true,\n        //右上角按钮\n        navbar: true,\n        //底部缩略图\n        title: false,\n        //当前图片标题\n        toolbar: true,\n        //底部工具栏\n        tooltip: false,\n        //显示缩放百分比\n        movable: true,\n        //是否可以移动\n        zoomable: false,\n        //是否可以缩放\n        rotatable: false,\n        //是否可旋转\n        scalable: false,\n        //是否可翻转\n        transition: false,\n        //使用 CSS3 过度\n        fullscreen: false,\n        //播放时是否全屏\n        keyboard: true,\n        //是否支持键盘\n        url: 'data-source',\n        ready: function ready() {\n          this.viewer = document.querySelector('.viewer-container');\n        }\n      });\n    },\n    //表格高度计算\n    setTableHeight: function setTableHeight() {\n      this.theight = this.$myFun.getSingleTbHeight() - 100;\n    }\n  }\n};",null]}