{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js!/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/login/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/login/index.vue","mtime":1603419967572},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getTheme } from '@/utils/auth';\nexport default {\n  data: function data() {\n    return {\n      formData: {\n        username: '',\n        password: '',\n        checked: false\n      },\n      loading: false,\n      redirect: '',\n      otherQuery: {},\n      rules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 12,\n          message: '密码长度必须为 6 到 12 个字符',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  mounted: function mounted() {\n    // 获取主题色\n    if (getTheme()) {\n      document.getElementsByClassName('el-button--primary')[0].style.backgroundColor = getTheme();\n    }\n  },\n  methods: {\n    // changeChecked() {\n    //     // 获取主题色\n    //     if (getTheme()) {\n    //         if (this.formData.checked) {\n    //             document.getElementsByClassName('el-checkbox__label')[0].style.color = getTheme()\n    //             document.getElementsByClassName('el-checkbox__inner')[0].style.backgroundColor = getTheme()\n    //             document.getElementsByClassName('el-checkbox__inner')[0].style.borderColor = getTheme()\n    //         } else {\n    //             document.getElementsByClassName('el-checkbox__label')[0].style.color = '#606266'\n    //             document.getElementsByClassName('el-checkbox__inner')[0].style.backgroundColor = '#fff'\n    //             document.getElementsByClassName('el-checkbox__inner')[0].style.borderColor = '#DCDFE6'\n    //         }\n    //     }\n    // },\n    login: function login() {\n      var _this = this;\n\n      this.$refs.form.validate(function (valid) {\n        if (valid) {\n          _this.loading = true;\n\n          _this.$store.dispatch('user/LoginByUsername', {\n            username: _this.formData.username,\n            password: _this.formData.password\n          }).then(function () {\n            var queryData = _this.$route.query;\n            var redirectUrl = queryData.redirect;\n            delete queryData.redirect;\n\n            _this.$router.push({\n              path: redirectUrl || '/',\n              query: queryData\n            });\n\n            _this.loading = false;\n          }).catch(function () {\n            _this.loading = false;\n          });\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    }\n  }\n};",null]}