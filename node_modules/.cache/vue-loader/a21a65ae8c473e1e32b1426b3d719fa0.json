{"remainingRequest":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/cf_web/src/components/template/content5/contentRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/cf_web/src/components/template/content5/contentRegister.vue","mtime":1600927611146},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport changeModuleSelect from '@/components/template/changeMoudleSelect'\nimport { mapState } from 'vuex';\nimport Pagination from \"@/components/Pagination\";\n\nexport default {\n    name: \"wzskncontentRegister\",\n    components: { changeModuleSelect, Pagination },\n    data () {\n        return {\n            theight: 0,\n            list: null,\n            isSingle: true,//表格是否单选 点击各按钮根据流程逻辑控制单多选\n            currentSelectedRow: null,//当前选中的行\n            selectedRows: null,//多选时选中的所有行\n            listQuery: {\n                //查询\n                page: true,\n                currentPage: 1,\n                pageSize: 15\n            },\n            total: 0,\n            listTemp: null,\n            mainFormList: {\n                orgCode: '',\n                accountDate: this.timeFormat()\n            },\n            configBusiness: {\n                db: '0908',\n                cz: '0907',\n                zz: '0906'\n            },\n            isEdit: false,\n            isSaveEdit: false,\n            selectRows: [],\n            rules: {\n                orgCode: [\n                    { required: true, message: ' ', trigger: 'blur' }\n                ],\n                warehouseCode: [\n                    { required: true, message: ' ', trigger: 'blur' }\n                ],\n                wareAreaCode: [\n                    { required: true, message: ' ', trigger: 'blur' }\n                ],\n                wareLocationCode: [\n                    { required: true, message: ' ', trigger: 'blur' }\n                ],\n                dicType: [\n                    { required: true, message: ' ', trigger: 'blur' }\n                ],\n                materielCode: [\n                    { required: true, message: this.$t('validate.required'), trigger: 'blur' }\n                ],\n                materielName: [\n                    { required: true, message: this.$t('validate.required'), trigger: 'blur' }\n                ],\n                quantity: [\n                    { required: true, message: ' ', trigger: 'blur' }\n                ]\n            }\n        };\n    },\n    computed: {\n        ...mapState({\n            dt_stock_type: state => state.dict.dt_stock_type,\n            dt_stock_status: state => state.dict.dt_stock_status\n        })\n    },\n    mounted () {\n        this.setTableHeight();\n        //表格高度自适应\n        window.onresize = () => {\n            this.setTableHeight()\n        };\n        //   this.$store.dispatch('getDicData',['dt_stock_type','dt_stock_status']);\n    },\n    methods: {\n        //表格高度计算\n        setTableHeight () {\n            this.theight = this.$myFun.getSingleTbHeight() - 30;\n        },\n        changeMoudle (val) {\n            this.$emit('changeSelect', val)\n        },\n        getList () { },\n        // 表格选择框选中 注:参数为选中的所有行的数组\n        selectChange (val) {\n            if (this.isSingle) {\n                if (val.length > 1) {\n                    this.$refs.tb.clearSelection(); //清除其他行的选中\n                    this.$refs.tb.toggleRowSelection(val[val.length - 1], \"selected\"); //单击行绑定点击事件\n                } else if (val.length === 1) {\n                    this.selectedRows = val;\n                    this.currentSelectedRow = val[val.length - 1]\n                }\n            } else {\n                this.selectedRows = val;\n                this.currentSelectedRow = val[val.length - 1]\n            }\n        },\n        //点击表格某一行\n        rowClick (val) {\n            if (this.isSingle) {\n                this.$refs.tb.clearSelection(); //清除其他行的选中\n            }\n            this.$refs.tb.toggleRowSelection(val, \"selected\"); //单击行绑定点击事件\n            this.getSubList(val);\n        },\n        timeFormat () {\n            var d = new Date();\n            var year = d.getFullYear();       //年  \n            var month = d.getMonth() + 1;     //月  \n            var day = d.getDate();            //日  \n\n            var clock = year + \"-\";\n            if (month < 10)\n                clock += \"0\";\n            clock += month + \"-\";\n\n            if (day < 10)\n                clock += \"0\";\n            clock += day + \" \";\n            return (clock);\n        },\n        //新增\n        handleAdd () {\n\n        },\n        //删除\n        handleDelete () {\n\n        },\n        //保存\n        handleSave () {\n\n        },\n        //刷新\n        handleRefresh () {\n            this.isEdit = false;\n            this.isSaveEdit = false;\n            this.list = [];\n        }\n    }\n}\n",null]}