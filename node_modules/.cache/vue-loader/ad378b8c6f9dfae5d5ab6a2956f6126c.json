{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/supplierManagement/supplierChange/supplierChangeNotice/dialog/addMainsh.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/supplierManagement/supplierChange/supplierChangeNotice/dialog/addMainsh.vue","mtime":1596610933954},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as api from '@/api/project/srm/supplierManage/supplierChangeNotice'\nimport { queryRecords } from '@/api/project/srm/supplierManage/supplierConfigure'\nimport platSupplier from \"@/components/Select/platSupplier\" // 分页组件\nimport { mapState } from 'vuex'\nimport throttle from 'lodash/throttle'\n\nexport default {\n    components: { platSupplier },\n    data () {\n        return {\n            temp: {},\n            Examine: {},\n            changeType: [],\n            attributeList: [],\n            tableKey: 0,\n            list: [],\n            value1: \"\",\n            value2: \"\",\n            dialogStatus: \"\",\n            queryState: ['1', '2'],\n            dialogVisible: false,\n            dialogVisibleSupplier: false,\n            edlist: [],\n            changeConfigId: null,\n            changeOrderNo: null,\n            rowId: null\n        }\n    },\n    computed: {\n        ...mapState({\n            dt_srm_pag: state => state.dict.dt_srm_pag,\n\n        })\n    },\n    mounted () {\n        this.$store.dispatch('dict/getDicData', ['dt_srm_pag'])\n    },\n    methods: {\n\n        dataType () {\n            let type = this.temp.changeTypeCode\n            if (type) {\n                this.edlist = this.changeType.filter(item => {\n                    return item.type === type\n                })\n            }\n            this.temp.changeTypeName = this.edlist[0].represent\n            this.temp.changeConfigId = this.edlist[0].rowId\n            if (this.edlist[0].changeMode == \"2\") {\n                this.temp.processNumber = this.edlist[0].processNumber\n            } else {\n                delete this.temp.processNumber\n            }\n        },\n        getType () {\n            let a = {\n                state: 1,\n                changeMode: this.queryState.join(\",\")\n            }\n            queryRecords(a).then(res => {\n                this.changeType = res.data\n            })\n        },\n        getItemList () {\n            let a = {\n                changeOrderNo: this.changeOrderNo\n            }\n            api.queryRecordsItems(a).then(res => {\n                this.list = res.data\n            })\n        },\n        handleSupplier () {\n            // this.dialogVisibleSupplier = true\n            this.dialogVisibleSupplier = true\n\n        },\n        updateConfirm: throttle(function () {\n            this.Examine.method = \"check\"\n            api.updatePublish(this.rowId, this.Examine).then(() => {\n                this.$message({\n                    title: '成功',\n                    message: '审核成功',\n                    type: 'success',\n                    duration: 2000\n                })\n                this.dialogVisible = false\n                this.$emit('refresh')\n            })\n        }, 2000,\n            {\n                leading: true,\n                trailing: false\n            }\n        ),\n        confirm () {\n            if (this.$refs.platSupplier.listSelected.length > 0) {\n                this.temp.supplierCode = this.$refs.platSupplier.listSelected[0].supplierCode\n                this.temp.supplierName = this.$refs.platSupplier.listSelected[0].supplierName\n                this.temp.contactAddress = this.$refs.platSupplier.listSelected[0].contactAddress\n                this.temp.contacts = this.$refs.platSupplier.listSelected[0].contacts\n                this.temp.legalPerson = this.$refs.platSupplier.listSelected[0].legalPerson\n                this.temp.mainFactory = this.$refs.platSupplier.listSelected[0].mainFactory\n                this.temp.purchaseOrg = this.$refs.platSupplier.listSelected[0].purchaseOrg\n                this.temp.purchaser = this.$refs.platSupplier.listSelected[0].purchaser\n                this.temp.supplierId = this.$refs.platSupplier.listSelected[0].rowId\n                this.temp.supplierShortName = this.$refs.platSupplier.listSelected[0].supplierShortName\n                this.temp.telephone = this.$refs.platSupplier.listSelected[0].telephone\n                this.dialogVisibleSupplier = false\n            } else {\n                this.$message({\n                    title: '警告',\n                    message: '请选择一条信息',\n                    type: 'warning',\n                    duration: 2000\n                })\n            }\n        },\n        resetExamine () {\n            this.Examine = {\n                checkExplain: undefined,\n                result: undefined\n            }\n        }\n\n    }\n}\n",null]}