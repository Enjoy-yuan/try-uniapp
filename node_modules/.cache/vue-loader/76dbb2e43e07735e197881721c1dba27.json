{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/EM/equipmentMaintain/index.vue?vue&type=template&id=1a02f4bd&scoped=true&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/EM/equipmentMaintain/index.vue","mtime":1596611178208},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n    <div class=\"app-container\">\n        <div class=\"filter-container\">\n            <div class=\"filter-items\">\n                <caiGou :orgType=\"DT_ORG_TYPE.factory\" placeholder=\"组织编码\" v-model=\"listQuery.orgCode\"></caiGou>\n                <teamSelect @keyup.enter.native=\"handleQuery\" :placeholder=\"'保养班组'\" :orgCode=\"this.listQuery.orgCode\" v-model=\"listQuery.teamCode\"></teamSelect>\n                <el-select @keyup.enter.native=\"handleQuery\" collapse-tags multiple class=\"filter-item\" clearable placeholder=\"状态\" size=\"small\" v-model=\"states\">\n                    <el-option :disabled=\"item.disabled\" :key=\"item.dictItemKey\" :label=\"item.dictItemValue\" :value=\"item.dictItemKey\" v-for=\"item in dt_upkeep_worder_state.filter(item => { return item.dictItemKey != 'ukwos_10'  })\" />\n                </el-select>\n                <el-date-picker end-placeholder=\"开单时间止\" size=\"small\" start-placeholder=\"开单时间起\" style=\"width: 240px\" type=\"daterange\" v-model=\"timeRange\" value-format=\"yyyy-MM-dd\"></el-date-picker>\n                <el-button @click=\"handleQuery\" class=\"filter-item-btn filter-item\" icon=\"el-icon-search\" size=\"small\" type=\"primary\">{{ $t('btn.query') }}</el-button>\n            </div>\n        </div>\n\n        <div class=\"table-container\">\n            <div class=\"oprate_btn\">\n                <el-button @click=\"maintainStart\" class=\"filter-item\" icon=\"el-icon-edit\" size=\"small\" type=\"primary\">{{ $t('btn.maintainStart') }}</el-button>\n                <el-button @click=\"handleCreate\" class=\"filter-item\" icon=\"el-icon-edit\" size=\"small\" type=\"primary\">{{ $t('btn.maintainRecord') }}</el-button>\n                <el-button @click=\"maintainEnd\" class=\"filter-item\" icon=\"el-icon-edit\" size=\"small\" type=\"primary\">{{ $t('btn.maintainEnd') }}</el-button>\n                <!-- <el-button @click=\"handleCreate\" class=\"filter-item\" icon=\"el-icon-edit\" size=\"small\" type=\"primary\">{{ $t('btn.export') }}</el-button> -->\n            </div>\n            <el-table :data=\"list\" :height=\"theight\" :key=\"tableKey[0]\" @row-click=\"rowClick\" @select=\"tableSelect\" @selection-change=\"selectChange\" border cell-class-name=\"table-cell\" fit header-cell-class-name=\"header-cell\" highlight-current-row ref=\"tb\">\n                <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                <el-table-column align=\"center\" label=\"状态\" prop=\"stateCN\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"工单号\" prop=\"workOrderNumber\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"组织编码\" prop=\"orgCode\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"设备编号\" prop=\"equipmentCode\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"设备名称\" prop=\"deviceName\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"计划号\" prop=\"maintainPlanCode\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"保养班组\" prop=\"teamName\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"保养人\" prop=\"applicantName\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"计划保养开始时间\" prop=\"planStartTime\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"计划保养结束时间\" prop=\"planEndTime\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"保养用时\" show-overflow-tooltip>\n                    <template slot-scope=\"scope\">{{scope.row.upkeepSpendTimeHour||0 }} 时 {{scope.row.upkeepSpendTimeMinute || 0 }} 分</template>\n                </el-table-column>\n                <el-table-column align=\"center\" label=\"设备类型\" prop=\"deviceTypeName\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"使用部门\" prop=\"useDeptName\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"设备地址\" prop=\"addressName\" show-overflow-tooltip></el-table-column>\n                <!-- <el-table-column align=\"center\" label=\"维修用时\" prop=\"maintenanceTime\" show-overflow-tooltip></el-table-column> -->\n                <el-table-column align=\"center\" label=\"保养费用\" prop=\"upkeepCost\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"备件费用\" prop=\"organizationCode\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"保养信息\" prop=\"disposeDescribe\" show-overflow-tooltip></el-table-column>\n                <!-- <el-table-column align=\"center\" label=\"验证人\" prop=\"organizationCode\" show-overflow-tooltip></el-table-column> -->\n            </el-table>\n            <pagination :limit.sync=\"listQuery.pageSize\" :page.sync=\"listQuery.currentPage\" :total=\"total\" @pagination=\"getList\" />\n            <hr class=\"hrtLineStyle\" />\n            <hr class=\"hrLineStyle\" />\n            <el-tabs class=\"no_t_border\" type=\"border-card\" v-model=\"currentTab\">\n                <el-tab-pane label=\"保养明细\" name=\"tab1\">\n                    <el-table :data=\"subList\" :height=\"theight\" :key=\"tableKey[1]\" @row-click=\"rowClickFrom\" border cell-class-name=\"table-cell\" fit header-cell-class-name=\"header-cell\" highlight-current-row ref=\"tb1\">\n                        <el-table-column align=\"center\" label=\"序号\" min-width=\"100\" prop=\"serialNumber\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"保养部位\" min-width=\"100\" prop=\"partName\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"保养标准\" min-width=\"100\" prop=\"maintenanceContent\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"是否正常\" min-width=\"100\" prop=\"ifNormalCN\" show-overflow-tooltip></el-table-column>\n                    </el-table>\n                    <pagination :limit.sync=\"listQuerySub.pageSize\" :page.sync=\"listQuerySub.currentPage\" :total=\"totalSub\" @pagination=\"getSubList\" />\n                </el-tab-pane>\n                <el-tab-pane label=\"备件申请\" name=\"tab2\">\n                    <wxbj ref=\"tab2\" :upkeepWorkOrderNumber='upkeepWorkOrderNumber' :selectlist='selectlistRowA' :org='organizationCodeA'></wxbj>\n                </el-tab-pane>\n                <el-tab-pane label=\"保养附件\" name=\"tab3\">\n                    <fileUpload ref=\"tab3\" titleText=\"维修单号\" :categoryData=\"dt_file_equipment\" :functionCode=\"upkeepWorkOrderNumber\"></fileUpload>\n                </el-tab-pane>\n            </el-tabs>\n        </div>\n        <!-- :width=\"'75%'\" -->\n        <el-dialog :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :visible.sync=\"dialogFormVisible\" @close=\"handleClose\" custom-class=\"dialog-custom\" title=\"保养记录\" v-dialogDrag>\n            <el-form :rules=\"rules\" :model=\"temp\" class=\"small-space\" label-position=\"center\" label-width=\"110px\" ref=\"refTemp\" size=\"mini\" style=\"width: 100%;min-width:400px;\">\n                <el-form-item label=\"组织编码\">\n                    <caiGou placeholder=\"组织编码\" disabled :orgType=\"DT_ORG_TYPE.factory\" v-model=\"subTemp.orgCode\"></caiGou>\n                </el-form-item>\n                <el-form-item label=\"设备编码\">\n                    <el-input disabled v-model=\"subTemp.equipmentCode\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"设备型号\">\n                    <el-input disabled v-model=\"subTemp.deviceName\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"使用部门\">\n                    <el-input disabled v-model=\"subTemp.useDeptName\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"设备地址\">\n                    <el-input disabled v-model=\"subTemp.addressName\"></el-input>\n                </el-form-item>\n                <div class=\"table-container\">\n                    <div class=\"oprate_btn\">\n                        <el-form-item label=\"保养信息\" style=\"margin-bottom: 0px !important;width:unset;padding-right:20px;margin-left:-20px;\">\n                        </el-form-item>\n                    </div>\n                    <el-form-item label=\"保养班组\">\n                        <teamSelect :placeholder=\"'保养班组'\" v-model=\"temp.teamCode\" :orgCode=\"subTemp.orgCode\"></teamSelect>\n                    </el-form-item>\n                    <el-form-item label=\"保养负责人\">\n                        <el-select class=\"filter-item\" placeholder=\"保养负责人\" size=\"small\" v-model=\"temp.applicant\">\n                            <el-option :key=\"item.employeeCode\" :label=\"item.employeeName\" :value=\"item.employeeCode\" v-for=\"item in emplList\" />\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"保养级别\">\n                        <el-select class=\"filter-item\" clearable placeholder=\"保养级别\" size=\"small\" v-model=\"temp.maintainLevel\">\n                            <el-option :key=\"item.dictItemKey\" :label=\"item.dictItemValue\" :value=\"item.dictItemKey\" v-for=\"item in dt_upkeep_level\" />\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"是否停机\">\n                        <el-checkbox v-model=\"temp.ifMachineHalt\" true-label=\"Y\" false-label=\"N\"></el-checkbox>\n                        <el-input v-model=\"temp.machineHaltTime\" :disabled=\"temp.ifMachineHalt=='N'\" type=\"Number\" min=\"0\" placeholder=\"分\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"保养用时\">\n                        <el-input v-model=\"temp.upkeepSpendTimeHour\" type=\"Number\" min=\"0\" placeholder=\"时\"></el-input>\n                        <el-input v-model=\"temp.upkeepSpendTimeMinute\" type=\"Number\" min=\"0\" placeholder=\"分\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"开始时间\">\n                        <el-date-picker v-model=\"temp.realityStartTime\" :picker-options=\"pickerStartDate\" value-format=\"yyyy-MM-dd HH:mm:ss\" format=\"yyyy-MM-dd HH:mm:ss\" type=\"datetime\" placeholder=\"选择日期时间\">\n                        </el-date-picker>\n                    </el-form-item>\n                    <el-form-item label=\"结束时间\">\n                        <el-date-picker v-model=\"temp.realityEndTime\" :picker-options=\"pickerCloseDate\" value-format=\"yyyy-MM-dd HH:mm:ss\" format=\"yyyy-MM-dd HH:mm:ss\" type=\"datetime\" placeholder=\"选择日期时间\">\n                        </el-date-picker>\n                    </el-form-item>\n                    <el-form-item label=\"保养费用\" prop=\"upkeepCost\">\n                        <el-input v-model=\"temp.upkeepCost\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"经验代码\" prop=\"experienceCode\">\n                        <el-input placeholder=\"经验代码\" v-model=\"temp.experienceCode\" disabled>\n                            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"handleExperience\"></el-button>\n                        </el-input>\n                    </el-form-item>\n                    <el-form-item>\n                        <el-button @click=\"experienceCreate\" icon=\"el-icon-plus\" size=\"small\" type=\"primary\">新增经验</el-button>\n                    </el-form-item>\n\n                    <el-form-item label=\"处理描述\" prop=\"disposeDescribe\" style=\"width:97%;\">\n                        <el-input :rows=\"3\" placeholder=\"处理描述\" type=\"textarea\" v-model=\"temp.disposeDescribe\"></el-input>\n                    </el-form-item>\n                </div>\n                <!-- 保养部位 -->\n                <div class=\"table-container\">\n                    <div class=\"oprate_btn\">\n                        <el-form-item label=\"保养部位\" style=\"margin-bottom: 0 !important;width:unset;padding-right:20px;margin-left:-20px;\">\n                        </el-form-item>\n                        <el-button @click=\"maintainDialogFormVisible = true\" class=\"filter-item\" icon=\"el-icon-plus\" size=\"small\" type=\"primary\">{{ $t('table.add') }}</el-button>\n                        <el-button @click=\"handleDelePosition\" class=\"filter-item\" icon=\"el-icon-edit\" size=\"small\" type=\"primary\">{{ $t('btn.delete') }}</el-button>\n                    </div>\n                    <el-table :data=\"positionList\" :height=\"theight*0.5\" :key=\"tableKey[4]\" @selection-change=\"selectPosition\" border cell-class-name=\"table-cell\" fit header-cell-class-name=\"header-cell\" highlight-current-row ref=\"sub1\">\n                        <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                        <el-table-column align=\"center\" label=\"序号\" prop=\"serialNumber\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"保养部位\" prop=\"partName\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"保养标准\" prop=\"maintenanceContent\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"正常\" prop=\"ifNormal\" show-overflow-tooltip>\n                            <template slot-scope=\"scope\">\n                                <el-radio v-model=\"scope.row.ifNormal\" label=\"Y\">是</el-radio>\n                                <el-radio v-model=\"scope.row.ifNormal\" label=\"N\">否</el-radio>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </div>\n                <!-- 保养工时 -->\n                <div class=\"table-container\">\n                    <div class=\"oprate_btn\">\n                        <el-form-item label=\"保养工时\" style=\"margin-bottom: 0 !important;width:unset;padding-right:20px;margin-left:-20px;\">\n                        </el-form-item>\n                        <el-button @click=\"employeeDialogVisible = true\" class=\"filter-item\" icon=\"el-icon-plus\" size=\"small\" type=\"primary\">{{ $t('table.add') }}</el-button>\n                        <el-button @click=\"handleDeleEmp\" class=\"filter-item\" icon=\"el-icon-edit\" size=\"small\" type=\"primary\">{{ $t('btn.delete') }}</el-button>\n                        <el-button @click=\"handleSaveEmp\" class=\"filter-item\" icon=\"el-icon-plus\" size=\"small\" type=\"primary\">{{ $t('btn.save') }}</el-button>\n                    </div>\n                    <el-table :data=\"personList\" @selection-change=\"selectEmp\" :height=\"theight*0.5\" :key=\"tableKey[3]\" border fit header-cell-class-name=\"header-cell\" highlight-current-row>\n                        <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                        <el-table-column align=\"center\" label=\"员工编码\" prop=\"maintainerCode\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"姓名\" prop=\"maintainerName\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"开始时间\" prop=\"startTime\" show-overflow-tooltip>\n                            <template slot-scope=\"scope\">\n                                <el-date-picker @input=\"getLaborHour(scope.row)\" v-model=\"scope.row.startTime\" value-format=\"yyyy-MM-dd HH:mm:ss\" format=\"yyyy-MM-dd HH:mm:ss\" type=\"datetime\" placeholder=\"选择日期时间\">\n                                </el-date-picker>\n                            </template>\n                        </el-table-column>\n                        <el-table-column align=\"center\" label=\"结束时间\" prop=\"endTime\" show-overflow-tooltip>\n                            <template slot-scope=\"scope\">\n                                <el-date-picker @input=\"getLaborHour(scope.row)\" v-model=\"scope.row.endTime\" value-format=\"yyyy-MM-dd HH:mm:ss\" format=\"yyyy-MM-dd HH:mm:ss\" type=\"datetime\" placeholder=\"选择日期时间\">\n                                </el-date-picker>\n                            </template>\n                        </el-table-column>\n                        <el-table-column align=\"center\" label=\"保养用时(小时)\" prop=\"maintainSpendTime\" show-overflow-tooltip>\n                            <template slot-scope=\"scope\">\n                                <el-input disabled v-model=\"scope.row.maintainSpendTime\"></el-input>\n                            </template>\n                        </el-table-column>\n                        <el-table-column align=\"center\" label=\"实际用时\" prop=\"realitySpendTime\" show-overflow-tooltip>\n                            <template slot-scope=\"scope\">\n                                <el-input v-model=\"scope.row.realitySpendTime\"></el-input>\n                            </template>\n                        </el-table-column>\n                        <el-table-column align=\"center\" label=\"备注\" prop=\"remark\" show-overflow-tooltip>\n                            <template slot-scope=\"scope\">\n                                <el-input v-model=\"scope.row.remark\"></el-input>\n                            </template>\n                        </el-table-column>\n                        <!--  -->\n                    </el-table>\n                </div>\n                <!-- 备件使用 -->\n                <div class=\"table-container\">\n                    <div class=\"oprate_btn\">\n                        <el-form-item label=\"备件使用\" style=\"margin-bottom: 0 !important;width:unset;padding-right:20px;margin-left:-20px;\">\n                        </el-form-item>\n                        <el-button @click=\"spareSave\" class=\"filter-item\" icon=\"el-icon-plus\" size=\"small\" type=\"primary\">{{ $t('table.save') }}</el-button>\n                    </div>\n                    <el-table :data=\"temp.spareList\" :height=\"theight*0.5\" :key=\"tableKey[5]\" border fit header-cell-class-name=\"header-cell\" highlight-current-row ref=\"tb2\">\n                        <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                        <el-table-column align=\"center\" label=\"备件编码\" prop=\"materielCode\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"备件名称\" prop=\"materielName\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"使用数量\" prop=\"useQuantity\" show-overflow-tooltip>\n                            <template slot-scope=\"scope\">\n                                <el-input v-model=\"scope.row.useQuantity\" type=\"Number\" min=\"0\"> </el-input>\n                            </template>\n                        </el-table-column>\n                        <el-table-column align=\"center\" label=\"回退数量\" prop=\"returnQuantity\" show-overflow-tooltip>\n                            <template slot-scope=\"scope\">\n                                <el-input v-model=\"scope.row.returnQuantity\" type=\"Number\" min=\"0\"></el-input>\n                            </template>\n                        </el-table-column>\n                        <el-table-column align=\"center\" label=\"备注\" prop=\"remark\" show-overflow-tooltip>\n                            <template slot-scope=\"scope\">\n                                <el-input v-model=\"scope.row.remark\"></el-input>\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </div>\n            </el-form>\n            <div class=\"dialog-footer\" slot=\"footer\">\n                <el-button @click=\"dialogFormVisible = false\">{{$t('table.cancel')}}</el-button>\n                <el-button @click=\"update\" type=\"primary\">{{$t('table.confirm')}}</el-button>\n            </div>\n        </el-dialog>\n        <el-dialog :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :visible.sync=\"maintainDialogFormVisible\" custom-class=\"dialog-custom\" title=\"保养记录\" v-dialogDrag>\n            <maintainPartSelect ref=\"maintainPartSelect\"></maintainPartSelect>\n            <div class=\"dialog-footer\" slot=\"footer\">\n                <el-button @click=\"maintainDialogFormVisible=false\">{{$t('table.cancel')}}</el-button>\n                <el-button @click=\"createMaintain\" type=\"primary\">{{ $t('table.confirm') }}</el-button>\n            </div>\n        </el-dialog>\n        <!-- 经验库 -->\n        <el-dialog custom-class=\"dialog-custom\" class=\"table_dialog\" :title=\"'经验库'\" :visible.sync=\"expBaseDialogVisible\" v-dialogDrag :close-on-click-modal=\"false\">\n            <expBaseSelect :isTick=\"false\" @change=\"handleExpBase\"></expBaseSelect>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"expBaseDialogVisible = false\">{{$t('table.cancel')}}</el-button>\n                <el-button type=\"primary\" @click=\"expBaseCreate\">{{ $t('table.confirm') }}</el-button>\n            </div>\n        </el-dialog>\n        <!-- 人员 -->\n        <el-dialog custom-class=\"dialog-custom\" class=\"table_dialog\" :title=\"'人员'\" :visible.sync=\"employeeDialogVisible\" v-dialogDrag :close-on-click-modal=\"false\">\n            <employeeSelect @change=\"handleEmployee\" :listSelected=\"personList\"></employeeSelect>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"employeeDialogVisible = false\">{{$t('table.cancel')}}</el-button>\n                <el-button type=\"primary\" @click=\"employeeCreate\">{{ $t('table.confirm') }}</el-button>\n            </div>\n        </el-dialog>\n\n    </div>\n</div>\n",null]}