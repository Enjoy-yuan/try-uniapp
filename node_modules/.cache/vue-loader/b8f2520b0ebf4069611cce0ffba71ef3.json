{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/components/Select/xtpt/caigou.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/components/Select/xtpt/caigou.vue","mtime":1596610933179},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n\nimport { selectlists as listOrg } from '@/api/system/organization'\nexport default {\n    name: 'caigou',\n    props: {\n        orgType: {//到货单位：从组织结构中查询组织类型为“工厂”的组织信息\n            type: String,\n            default: ''\n        },\n        organizationCode: {\n            type: String,\n            default: ''\n        },\n        disabled: {\n            type: Boolean,\n            default: false\n        },\n        placeholder: {\n            type: String,\n            default: '请选择'\n        },\n        businessFunction: {//采购组：从组织结构中查询业务职能为“采购组”的组织信息\n            type: String,\n            default: ''\n        },\n        index: {\n            type: Number,\n            default: null\n        }\n    },\n    model: {\n        prop: 'organizationCode',\n        event: 'change'\n    },\n    data () {\n        return {\n            options: [],\n            itemKey: this.organizationCode\n        }\n    },\n    watch: {\n        organizationCode () {\n            this.itemKey = this.organizationCode\n        }\n    },\n    created () {\n        this.getOptions()\n    },\n    methods: {\n        getOptions () {\n            const listQuery = {\n                type: this.orgType,\n                state: 1,\n                businessFunction: this.businessFunction\n            }\n            listOrg(listQuery).then(res => {\n                this.options = res.data\n                this.$emit('getData', this.options)\n            })\n        },\n        changeSelect (val) {\n            this.$emit('change', val)\n            let name = ''\n            let org = this.options.filter(v => v.organizationCode == val)\n                .find((value) => value)\n            if (org) {\n                name = org.organizationName\n            }\n\n            if (this.index > 0 || this.index === 0) {\n                this.$emit('selectName', name, this.index)\n            } else {\n                this.$emit('selectName', name)\n            }\n        }\n    }\n}\n",null]}