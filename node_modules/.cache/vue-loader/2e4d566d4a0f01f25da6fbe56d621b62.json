{"remainingRequest":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/cf_web/src/components/template/dialog/dialog1.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/cf_web/src/components/template/dialog/dialog1.vue","mtime":1600927611146},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Pagination from '@/components/Pagination' // 分页组件\nexport default {\n    components: { Pagination },\n    props: ['unMutiple', 'title'],\n    data () {\n        return {\n            initSelected: null,//初始选中值\n            listAll: null,//备选项\n            listSelected: null,//已选项\n            listSub: null,//备选项子表\n            dialogVisible: false,\n            totalAll: 0,//总条数\n            totalSelected: 0,//选中的条数 暂未使用\n            activeName: 'first',//tab激活内容\n            tableKey: [0, 1, 2],//表格索引\n            selectRowData: null,\n            listQueryAll: {\n                page: true,\n                currentPage: 1,\n                pageSize: 10\n            },//备选项查询条件\n            mainTitle: [\n                { width: null, align: 'left', label: 'id', prop: 'id' },\n                { width: null, align: 'left', label: '专辑', prop: 'name' },\n                { width: null, align: 'left', label: '类型', prop: 'category' },\n                { width: null, align: 'left', label: '名称', prop: 'desc' },\n                { width: null, align: 'left', label: '地址', prop: 'address' },\n                { width: null, align: 'left', label: '店铺', prop: 'shop' }\n            ],//备选项主表投数据\n            subTitle: [\n                { width: null, align: 'left', label: 'id', prop: 'id' },\n                { width: null, align: 'left', label: '名字', prop: 'name' },\n                { width: null, align: 'left', label: '组合', prop: 'category' },\n                { width: null, align: 'left', label: 'talk', prop: 'desc' },\n                { width: null, align: 'left', label: '地址', prop: 'address' },\n                { width: null, align: 'left', label: '公司', prop: 'shop' },\n            ]//备选项从表投数据\n        }\n    },\n    mounted () {//创建时加载备选项\n        this.getList1();\n    },\n    methods: {\n        //初始化选中内容\n        initSelect (val) {\n            this.listAll = null;\n            this.listSelected = null;\n            this.listSelected = val;\n            this.getList1();\n        },\n        //选中某一行\n        checked (i) {\n            this.$refs.tbselect.toggleRowSelection(this.listAll[i], true);\n        },\n        handleFilter1 () {//查询备选项\n            this.getList1()\n        },\n        getList1 () {//备选项查询\n            this.listAll = [\n                { id: '0', name: '第一张专辑', category: '专辑', desc: '第一张创作专辑', address: '相信音乐', shop: '相信音乐国际股份有限公司' },\n                { id: '1', name: '第二张专辑', category: '专辑', desc: '爱情万岁', address: '相信音乐', shop: '相信音乐国际股份有限公司' },\n                { id: '2', name: '第三张专辑', category: '专辑', desc: '人生海海', address: '相信音乐', shop: '相信音乐国际股份有限公司' },\n                { id: '3', name: '第四张专辑', category: '专辑', desc: '时光机', address: '相信音乐', shop: '相信音乐国际股份有限公司' },\n                { id: '4', name: '第五张专辑', category: '专辑', desc: '神的孩子都在跳舞', address: '相信音乐', shop: '相信音乐国际股份有限公司' },\n                { id: '5', name: '第一张专辑', category: '专辑', desc: '第一张创作专辑', address: '相信音乐', shop: '相信音乐国际股份有限公司' },\n                { id: '6', name: '第二张专辑', category: '专辑', desc: '爱情万岁', address: '相信音乐', shop: '相信音乐国际股份有限公司' },\n                { id: '7', name: '第三张专辑', category: '专辑', desc: '人生海海', address: '相信音乐', shop: '相信音乐国际股份有限公司' },\n                { id: '8', name: '第四张专辑', category: '专辑', desc: '时光机', address: '相信音乐', shop: '相信音乐国际股份有限公司' },\n                { id: '9', name: '第五张专辑', category: '专辑', desc: '神的孩子都在跳舞', address: '相信音乐', shop: '相信音乐国际股份有限公司' }\n            ];\n            this.totalAll = this.listAll.length;\n\n            if (this.listSelected) {\n                this.listSelected.forEach(items => {\n                    this.listAll.forEach((item, index) => {\n                        if (item.id === items.id) {\n                            this.$nextTick(function () {\n                                this.checked(index)\n                            })\n                        }\n                    })\n                })\n            }\n        },\n        getList2 () {//已选项查询\n            this.listSelected = this.selectRowData\n        },\n        //传递子表数据时赋值使用\n        getDetail (row) {\n            this.listSub = [\n                { id: '1', name: '陈信宏', category: 'mayday', desc: '到前面来' + row.id, address: '福建省泉州市', shop: '相信音乐' + row.id, shopId: '1' },\n                { id: '2', name: '温尚翊', category: 'mayday', desc: '到前面来' + row.id, address: '台湾省台北市', shop: '相信音乐' + row.id, shopId: '2' }\n            ];\n        },\n        selectChange (val) {\n            if (this.unMutiple) {\n                this.selectOneRow(val);\n            } else {\n                this.selectRows(val);\n            }\n        },\n        selectRows (val) {//备选项选中行\n            this.selectRowData = val\n            this.listSelected = this.selectRowData;\n            // this.getDetail(val[val.length - 1]);\n            // this.$emit('clickRows' ,val,this.listSub);\n        },\n        selectOneRow (val) {\n            let arr = [];\n            arr.push(val[val.length - 1])\n            this.selectRowData = arr;\n            // if (arr[0]) {\n            //     this.getDetail(arr[0]);\n            // }\n            if (val.length > 1) {\n                this.$refs.tbselect.clearSelection()\n                this.$refs.tbselect.toggleRowSelection(val[val.length - 1], 'selected')\n            }\n            this.listSelected = this.selectRowData;\n\n        },\n        //弹框1点击确定\n        dialogConfirm () {\n            this.$emit('handleDialogClick', this.listSelected, 1);\n            this.dialogVisible = false;\n        }\n    }\n}\n",null]}