{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/IOT/IOT/IOTEM/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/IOT/IOT/IOTEM/index.vue","mtime":1598577833752},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport getPageTitle from '@/utils/getPageName'\nimport { queryManufacturers } from \"@/api/project/iot/IOT/em\"\nimport { queryProjects } from \"@/api/project/iot/IOT/project\"\nimport mainBox from \"./main\"\nimport EMTabs from \"./EMTabs\" //设备建模 详细tab页\nexport default {\n    name: \"IOTEM\",\n    components: { mainBox, EMTabs },\n    watch: {\n        '$route.params' (newval) {\n            if (newval && newval.code) {\n                if (this.code !== newval.code) {\n                    this.pages = 'main'\n                    this.code = newval.code\n                }\n            }\n        }\n    },\n    data () {\n        return {\n            pages: 'main',\n            code: this.$route.params.code,\n            row: undefined, // 二级页面选择的行\n            title: getPageTitle(this.$route.name),\n            manufacturersList: null,\n            projectList: null\n        }\n    },\n    created () {\n        this.$store.dispatch('iotDict/getDicData', ['iot_state_device', 'iot_attribute_type', 'iot_attribute_company', 'iot_data_type', 'iot_read_type', 'iot_is_standard', 'iot_state', 'iot_nameplate_state'])\n        this.getProject()\n        this.getTeam()\n    },\n    methods: {\n        setPage (pages) {\n            this.pages = pages\n        },\n        setCode (code) {\n            this.code = code\n        },\n        setRow (row) {\n            this.row = row\n        },\n        getTeam () {\n            queryManufacturers().then(res => {\n                this.manufacturersList = res.data.list\n            })\n        },\n        getProject () {\n            queryProjects().then(res => {\n                this.projectList = res.data\n            })\n        },\n    },\n};\n",null]}