{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/dataBase/replaceDefinition/dialog/addMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/dataBase/replaceDefinition/dialog/addMain.vue","mtime":1597995949099},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as api from '@/api/project/srm/dataBase/replaceDefinition'\nimport { DICT_CODE } from '@/utils/constant'\nimport caiGou from '@/components/Select/xtpt/caigou'//下拉组件\nexport default {\n    components: { caiGou },\n    data () {\n        return {\n            DICT_CODE: DICT_CODE,\n            dialogStatus: '',\n            dialogVisible: false,\n            temp: {\n                orgCode: undefined,\n                orgName: undefined,\n                groupCode: undefined,\n                groupName: undefined,\n                signatureCode: undefined,\n                remark: undefined,\n            },\n            rule: {\n                orgCode: [{ required: true, message: '组织编码不能为空', trigger: 'blur' }],\n                groupCode: [{ required: true, message: '分组号不能为空', trigger: 'blur' },\n                { max: 6, message: '分组号不能超过六位！', trigger: 'blur' }],\n                groupName: [{ required: true, message: '分组名称不能为空', trigger: 'blur' }],\n            },\n            disabled: false\n        }\n    },\n    methods: {\n        //获取组织编码名称\n        selectName (val) {\n            this.temp.orgName = val\n        },\n        // 主表新增确认\n        create () {\n            api.addRecord(this.temp).then(() => {\n                this.$message({\n                    title: '成功',\n                    message: '新增成功',\n                    type: 'success',\n                    duration: 2000\n                })\n                this.dialogVisible = false\n                this.$emit('refresh')\n            })\n\n        },\n        // 修改确认\n        update () {\n            let dto = {\n                groupCode: this.temp.groupCode,\n                groupName: this.temp.groupName,\n                orgCode: this.temp.orgCode,\n                orgName: this.temp.orgName,\n                signatureCode: this.temp.signatureCode,\n                remark: this.temp.remark,\n            }\n            // console.log(JSON.stringify(dto))\n            api.updateRecord(this.temp.rowId, dto).then(() => {\n                this.$message({\n                    title: '成功',\n                    message: '修改成功！',\n                    type: 'success',\n                    duration: 2000\n                })\n                this.dialogVisible = false\n                this.$emit('refresh')\n            })\n        },\n        resetTemp () {\n            this.temp = {\n                orgCode: undefined,\n                orgName: undefined,\n                groupCode: undefined,\n                groupName: undefined,\n                signatureCode: undefined,\n                remark: undefined,\n            }\n        }\n    }\n}\n",null]}