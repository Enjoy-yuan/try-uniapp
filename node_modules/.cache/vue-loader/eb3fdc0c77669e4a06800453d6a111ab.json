{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/components/Tree/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/components/Tree/index.vue","mtime":1596610933184},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { selectlists as getOrgList } from \"@/api/system/organization\"\nimport { queryRecords as getMaterielCateList } from \"@/api/project/srm/materialClassify/materialMaintain\"\n\n\nexport default {\n    name: 'treeComponent',\n    props: ['type', 'params', 'treeStyleObj'],\n    data () {\n        return {\n            code: '',\n            name: '',\n            treeData: [],\n            defaultProps: {\n                org: {\n                    children: \"children\",\n                    label: \"organizationName\"\n                },\n                materielCategory: {\n                    children: \"children\",\n                    label: \"className\"\n                }\n            },\n        }\n    },\n    mounted () {\n        this.getTreeList()\n    },\n    watch: {\n        params: {\n            handler () {\n                this.getTreeList()\n            },\n            immediate: true,\n            deep: true\n        }\n    },\n    methods: {\n        getTreeList () {\n            switch (this.type) {\n                //组织结构树\n                case 'org': {\n                    getOrgList().then(response => {\n                        this.treeData = this.$myFun.addTreeRoot(response.data)\n                    })\n                    break\n                }\n                //物料类型树\n                case 'materielCategory': {\n                    if (this.params.orgCode) {\n                        getMaterielCateList({ orgCode: this.params.orgCode }).then(res => {\n                            this.treeData = this.$myFun.addRoot(res.data, 'rowId', 'parentRowId', '物料分类')\n                        })\n                    }\n                    break\n                }\n            }\n        },\n        handleNodeClick (data) {\n            switch (this.type) {\n                //组织结构树\n                case 'org': {\n                    // this.$emit('changeNode', data.Id, data.organizationCode, data.organizationName)\n                    this.$emit('changeNode', data.rowId)\n                    break\n                }\n                //物料树\n                case 'materielCategory': {\n                    this.$emit('changeNode', data.classCode)\n                    break\n                }\n            }\n        }\n    }\n}\n",null]}