{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/data-base/storageMaterialDistribution/ckwlfp.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/data-base/storageMaterialDistribution/ckwlfp.vue","mtime":1596610933352},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as api from '@/api/data-base/warehouse-distribute'\nimport Pagination from '@/components/Pagination'\nimport { DICT_CODE, TWO_STATE_OPTIONS, DT_ORG_TYPE } from '@/utils/constant'\n\nexport default {\n    name: 'wlxz',\n    components: { Pagination },\n    props: [\n        'warehouseCode',\n        'orgCode',\n        'materielselect',\n        'unMutiple',\n        'toOrgCode'\n    ],\n    data() {\n        return {\n            list: null,\n            listSelected: [],\n            total: 0,\n            parentsRows: null,\n            areaList: null,\n            locatorList: [],\n            listQuery: {\n                page: true,\n                currentPage: 1,\n                pageSize: 10,\n                materielCode: undefined,\n                supplierCode: undefined,\n                orgCode: undefined,\n                toOrgCode: undefined,\n                warehouseCode: this.warehouseCode\n            },\n            selectCode: [],\n            tableKey: 0,\n            activeName2: 'first',\n            DICT_CODE: DICT_CODE,\n            TWO_STATE_OPTIONS: TWO_STATE_OPTIONS,\n            DT_ORG_TYPE: DT_ORG_TYPE\n        }\n    },\n    methods: {\n        getList() {\n            api.queryRecords(this.listQuery).then(res => {\n                console.log(res, '666')\n                this.list = res.data.list.map(v => {\n                    v.wareAreaCode = v.areaCode\n                    v.wareLocationCode = v.locationCode\n                    return v\n                })\n                this.total = res.data.pages.count\n            })\n        },\n        handleDelete() {\n            //删除方法\n            if (this.selectlistRow) {\n                this.$confirm(\n                    this.$t('message.isDeleteContinue'),\n                    this.$t('message.prompt'),\n                    {\n                        confirmButtonText: this.$t('message.yes'),\n                        cancelButtonText: this.$t('message.no'),\n                        type: 'warning'\n                    }\n                ).then(() => {\n                    api.deleteRecord(this.selectlistRow[0].rowId).then(() => {\n                        this.getList()\n                        this.$notify({\n                            title: '成功',\n                            message: '删除成功',\n                            type: 'success',\n                            duration: 2000\n                        })\n                    })\n                })\n            } else {\n                this.$message({\n                    title: '警告',\n                    message: '请选择一条信息',\n                    type: 'warning'\n                })\n            }\n        },\n        selectRow(val) {\n            this.selectlistRow = val\n        },\n        handleQuery() {\n            this.listQuery.currentPage = 1\n            this.getList()\n        },\n        handleSizeChange(val) {\n            this.listQuery.pageSize = val\n            this.getList()\n        },\n        handleCurrentChange(val) {\n            this.listQuery.currentPage = val\n            this.getList()\n        }\n    },\n    watch: {\n        warehouseCode: {\n            handler(newValue) {\n                this.listQuery.warehouseCode = newValue\n                this.getList()\n            },\n            deep: true\n        }\n    }\n}\n",null]}