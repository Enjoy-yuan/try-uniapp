{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/OA/purchase/delivery_Publish/index.vue?vue&type=template&id=617f9ef0&scoped=true&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/OA/purchase/delivery_Publish/index.vue","mtime":1596610933590},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n    <div class=\"filter-container no_b_border\">\n        <div class=\"filter-items\">\n            <orgSelect\n                :placeholder=\"$t('query.arrivalCompany')\"\n                class=\"filter-item\"\n                :orgType=\"DT_ORG_TYPE.factory\"\n                v-model=\"listQuery.arrivalCompany\"\n            ></orgSelect>\n            <el-input size=\"small\" :placeholder=\"$t('query.orderNumber')\" v-model=\"listQuery.orderNumber\" class=\"filter-item\" @keyup.enter.native=\"handleQuery\"/>\n            <el-date-picker class=\"range_date\"  size=\"small\" v-model=\"rangeTime\" type=\"daterange\" :start-placeholder=\"$t('query.publishTime')\" :end-placeholder=\"$t('query.endTime')\" value-format=\"yyyy-MM-dd\"></el-date-picker>\n            <el-select size=\"small\" v-model=\"listQuery.state\" :placeholder=\"$t('query.deliveryState')\" clearable @keyup.enter.native=\"handleFilter\" >\n                <el-option v-for=\"item in dt_delivery_state\" :key=\"item.dictItemKey\" :label=\"item.dictItemValue\"\n                        :value=\"item.dictItemKey\">\n                </el-option>\n            </el-select>\n\n            <el-input size=\"small\" style=\"width: 165px\" v-model=\"listQuery.supplierName\" :placeholder=\"$t('query.selectSupplier')\" disabled>\n                <el-button v-if=\"domainName!=='supplier'\" slot=\"append\" icon=\"el-icon-search\" @click=\"showGys\"></el-button>\n            </el-input>\n            <el-button class=\"filter-item\" type=\"primary\" size=\"small\" icon=\"el-icon-search\" @click=\"handleQuery\" >{{$t('btn.query')}}</el-button>\n        </div>\n    </div>\n    <hr class=\"hrLineStyle\">\n    <div class=\"table-container\">\n        <!--主表-->\n        <div class=\"oprate_btn\">\n            <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"handlePublish\" icon=\"el-icon-edit-outline\">{{$t('btn.publish')}}</el-button>\n            <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"handleDelete\" icon=\"el-icon-delete\">{{$t('btn.delete')}}</el-button>\n            <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"receiptPrint\" icon=\"el-icon-printer \">{{$t('btn.receiptPrint')}}</el-button>\n            <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"packTag\" icon=\"el-icon-price-tag\">包装标签</el-button>\n            <el-button style=\"display:none;\" class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"dialogPrintTagVisible=!dialogPrintTagVisible\" icon=\"el-icon-price-tag\">{{$t('btn.tagPrint')}}</el-button>\n            <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"handleClose\" icon=\"el-icon-document-delete\">{{$t('btn.close')}}</el-button>\n            <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"updateCar\" icon=\"el-icon-truck\">修改车辆</el-button>\n        </div>\n        <el-table\n            :key=\"tableKey\"\n            :data=\"list\"\n            border\n            fit\n            :height=\"theight\"\n            highlight-current-row\n            style=\"width: 100%;\"\n            @selection-change='selectRow' size=\"mini\" cell-class-name=\"table-cell\" header-cell-class-name=\"header-cell\"\n            @row-click='showSubTable'  ref='tbmain'>\n            <el-table-column type=\"selection\" fixed width=\"30\" align=\"center\"></el-table-column>\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.deliverNo')\" prop=\"orderNumber\"></el-table-column>\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.arrivalCompany')\" prop=\"arrivalCompany\"></el-table-column>\n            <el-table-column show-overflow-tooltip width=\"130\" align=\"left\" :label=\"$t('deliveryPublish.arrivalRepository')\" prop=\"arrivalRepository\"></el-table-column>\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.supplier')\" prop=\"supplierCode\"></el-table-column>\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.createTime')\" prop=\"createTime\"></el-table-column>\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.state')\" prop=\"stateCN\"></el-table-column>\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.contact')\" prop=\"contact\"></el-table-column>\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.mobile')\" prop=\"mobile\"></el-table-column>\n            <el-table-column show-overflow-tooltip width=\"130\" align=\"left\" :label=\"$t('deliveryPublish.plateNumber')\" prop=\"plateNumber\"></el-table-column>\n        </el-table>\n        <pagination :total=\"total\" :page.sync=\"listQuery.currentPage\"\n                :limit.sync=\"listQuery.pageSize\" @pagination=\"getList\"  class=\"pagination-container border_b_1\"/>\n\n        <!--从表-->\n        <el-table\n            :data=\"listRow\"\n            :height=\"theight\"\n            border\n            fit\n            highlight-current-row\n            style=\"width: 100%;\"\n            size=\"mini\" cell-class-name=\"table-cell\" header-cell-class-name=\"header-cell\">\n            <el-table-column show-overflow-tooltip  width=\"50\" align=\"left\" :label=\"$t('deliveryPublish.rowNo')\" prop=\"rowNo\"></el-table-column>\n            <el-table-column show-overflow-tooltip  width=\"150\" align=\"left\" :label=\"$t('deliveryPublish.materielCode')\" prop=\"materielCode\"></el-table-column>\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.materielName')\" prop=\"materielName\"></el-table-column>\n            <!-- <el-table-column show-overflow-tooltip width=\"150\" align=\"left\" :label=\"$t('deliveryPublish.orderQuantity')\" prop=\"orderQuantity\"></el-table-column>\n            <el-table-column show-overflow-tooltip width=\"150\" align=\"left\" :label=\"$t('deliveryPublish.deliveredQuantity')\" prop=\"deliveredQuantity\"></el-table-column>\n            <el-table-column show-overflow-tooltip width=\"150\" align=\"left\" :label=\"$t('deliveryPublish.deliverableQuantity')\" prop=\"deliverableQuantity\"></el-table-column> -->\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.deliverQuantity')\" prop=\"deliverQuantity\"></el-table-column>\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.arrivalDate')\" prop=\"arrivalDate\"></el-table-column>\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.remark')\" prop=\"remark\"></el-table-column>\n            <el-table-column show-overflow-tooltip align=\"left\" :label=\"$t('deliveryPublish.snp')\" prop=\"snp\"></el-table-column>\n        </el-table>\n    </div>\n\n   \n<div class=\"\">\n  <!--发布弹窗 -->\n  <el-dialog width=\"30%\" custom-class=\"dialog-custom\" :title=\"dialogStatus=='publish'?$t('btn.publish'):$t('btn.print')\" :visible.sync=\"dialogFormVisible\">\n    <el-form class=\"small-space\" :model=\"temp\" :rules=\"rules\" ref=\"temp\" label-position=\"left\" label-width=\"100px\"\n            size=\"mini\"\n            style='max-width: 400px; '>\n      <el-form-item :label=\"$t('deliveryPublish.contact')\" prop=\"contact\">\n        <el-input v-model=\"temp.contact\"></el-input>\n      </el-form-item>\n      <el-form-item :label=\"$t('deliveryPublish.mobile')\" prop=\"mobile\">\n        <el-input v-model=\"temp.mobile\"></el-input>\n      </el-form-item>\n      <el-form-item :label=\"$t('deliveryPublish.plateNumber')\" prop=\"plateNumber\">\n        <el-input v-model=\"temp.plateNumber\"></el-input>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"dialogFormVisible=!dialogFormVisible\">{{$t('btn.cancel')}}</el-button>\n      <el-button v-if=\"isPublish\" type=\"primary\" @click=\"publishConfirm\">{{$t('btn.confirm')}}</el-button>\n      <el-button v-else type=\"primary\" @click=\"updateCarConfirm\">{{$t('btn.confirm')}}</el-button>\n    </div>\n  </el-dialog>\n\n  <!--单据打印弹框 -->\n  <el-dialog :model=\"printData\" custom-class=\"dialog-custom\" :visible.sync=\"dialogPrintVisible\" :show-close=false>\n    <div slot=\"title\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"doReceiptPrint\">{{$t('btn.print')}}</el-button>\n      <el-button @click=\"dialogPrintVisible = false\" style=\"float:right;\">{{$t('btn.close')}}</el-button>\n    </div>\n\n    <div id=\"receipt\">\n      <div style=\"width:67%;float:left;\">\n        <p>{{$t('deliveryPublish.deliverNo')}}:<u>{{printData.orderNumber}}</u></p>\n        <p>{{$t('deliveryPublish.supplierCode')}}:<u>{{printData.supplierCode}}</u>&nbsp;&nbsp;&nbsp;{{$t('deliveryPublish.supplierName')}}:<u>{{printData.supplierName}}</u></p>\n        <p>{{$t('deliveryPublish.receiveCompany')}}:<u>{{printData.arrivalCompany}}</u>&nbsp;&nbsp;&nbsp;{{$t('deliveryPublish.receiveWareHouse')}}:<u>{{printData.arrivalRepository}}</u></p>\n      </div>\n      <div style=\"width:33%;float:left;\">\n        <qrcode :imgindex=\"'receipt'\" ref=\"childQRcode\"></qrcode>\n      </div>\n      <div style=\"width:100%;\">\n        <table style=\"width:100%;\">\n          <tr>\n            <th style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">行号</th>\n            <th style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">物料编码</th>\n            <th style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">物料名称</th>\n            <th style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">计量单位</th>\n            <th style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">订单数量</th>\n            <th style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">备注</th>\n          </tr>\n          <tr v-for=\"data in listRow\" :key=\"data.rowNo\">\n            <td style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">{{data.rowNo}}</td>\n            <td style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">{{data.materielCode}}</td>\n            <td style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">{{data.materielName}}</td>\n            <td style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">{{data.measuringUnit}}</td>\n            <td style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">{{data.orderQuantity}}</td>\n            <td style=\"padding: 15px;text-align: center;border: 1px solid #CCC;\">{{data.remark}}</td>\n          </tr>\n        </table>\n      </div>\n    </div>\n  </el-dialog>\n\n  <!-- 供应商选择弹框 -->\n  <gysxz @handleGysClick=\"handleGysClick\"\n             :title=\"'供应商选择'\"\n             ref=\"dialogRefgys\"\n             :isRequired=\"isGysRequired\"\n             :unMutiple=\"gysMutiple\"></gysxz>\n\n  <!-- 包装标签弹框 -->\n  <el-dialog width=\"60%\" custom-class=\"dialog-custom\" class=\"table_dialog\" :title=\"'包装标签'\" :visible.sync=\"dialogPack\" v-dialogDrag :close-on-click-modal=\"false\">\n    <div class=\"table-container marginTop0\">\n      <div class=\"oprate_btn\">\n        <el-input size=\"small\" :placeholder=\"'交货单号'\" v-model=\"listQueryPack.orderNumber\" class=\"filter-item\" @keyup.enter.native=\"handleQueryPack\"/>\n        <el-input size=\"small\" :placeholder=\"'物料编码'\" v-model=\"listQueryPack.materialCode\" class=\"filter-item\" @keyup.enter.native=\"handleQueryPack\"/>\n\n        <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"handleQueryPack\" icon=\"el-icon-search\">查询</el-button>\n        <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"handlePackSetting\" icon=\"el-icon-edit\">设置</el-button>\n        <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"handleBulkPrint\" icon=\"el-icon-edit\">批量打印</el-button>\n        <el-button class=\"filter-item\" size=\"small\" type=\"primary\" @click=\"handleFillPrint\" icon=\"el-icon-edit\">补打</el-button>\n      </div>\n      <el-table\n        :data=\"packDataList\"\n        border\n        fit\n        highlight-current-row\n        style=\"width: 100%;\"\n        @selection-change='selectPackRow' size=\"mini\" cell-class-name=\"table-cell\" header-cell-class-name=\"header-cell\"\n        ref='tbmain'>\n        <el-table-column type=\"selection\" fixed width=\"30\" align=\"center\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"center\" :label=\"'序号'\" prop=\"rowId\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'打印标记'\" prop=\"printSignName\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'包装条码'\" prop=\"barCode\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'包装号'\" prop=\"packageNo\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'供应商'\" prop=\"supplierCode\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'供应商名称'\" prop=\"supplierName\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'物料编码'\" prop=\"materielCode\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'物料名称'\" prop=\"materielName\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'规格型号'\" prop=\"specification\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'批次'\" prop=\"supplierBatch\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'snp'\" prop=\"snp\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'数量'\" prop=\"num\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'备注'\" prop=\"supplierRemark\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'到货单位'\" prop=\"arrivalCompanyName\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'到货仓库'\" prop=\"arrivalRepositoryName\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'卸货点'\" prop=\"unloadAddress\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'交货单号'\" prop=\"orderNumber\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'交货单行号'\" prop=\"orderRowNo\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'采购单号'\" prop=\"purchaseOrderNumber\"></el-table-column>\n        <el-table-column show-overflow-tooltip  align=\"left\" :label=\"'采购单行号'\" prop=\"purchaseRowNo\"></el-table-column>\n      </el-table>\n    </div>\n  </el-dialog>\n\n  <!-- 包装标签设置 -->\n  <el-dialog custom-class=\"dialog-custom\" class=\"table_dialog\" :title=\"'设置'\" :visible.sync=\"dialogPackSet\" v-dialogDrag :close-on-click-modal=\"false\">\n    <el-form :rules=\"rules\" :model=\"updatePacklist\" label-position=\"left\" label-width=\"130px\" :inline=\"true\" class=\"demo-form-inline\">\n        <el-form-item label=\"批次\" prop=\"stockTime\">\n          <el-input size=\"small\" v-model=\"updatePacklist.supplierBatch\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"备注\" prop=\"note\">\n            <el-input type=\"textarea\" v-model=\"updatePacklist.supplierRemark\"></el-input>\n        </el-form-item>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogPackSet=!dialogPackSet\">{{$t('btn.cancel')}}</el-button>\n        <el-button type=\"primary\" @click=\"confirmPackBatch\">{{$t('btn.confirm')}}</el-button>\n    </div>\n  </el-dialog>\n\n  <!-- 包装标签打印弹框 -->\n  <el-dialog :model=\"printData\" custom-class=\"dialog-custom\" class=\"table_dialog\" :visible.sync=\"dialogPackPrintVisible\" :show-close=false>\n    <div slot=\"title\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"doPackPrint\">{{$t('btn.print')}}</el-button>\n      <el-button @click=\"dialogPackPrintVisible = false\" style=\"float:right;\">{{$t('btn.close')}}</el-button>\n    </div>\n\n    <div id=\"packprint\" style=\"padding: 0px 20px\">\n      <div :key=\"item.rowId\" v-for=\"item in packPrintList\">\n        <table  border=\"1\" cellspacing=\"0\" cellpadding=\"0\" style=\"border-collapse: collapse;width:100%;\">\n          <tr>\n            <th style=\"text-align:left;padding:5px 10px;\" colspan=\"8\">物料编码</th>\n            <td style=\"text-align:center;padding:5px 10px;\" colspan=\"4\" rowspan=\"6\">\n              <qrcode :imgindex=\"item.rowId\" :ref=\"'childQRcode'+item.rowId\"></qrcode>\n            </td>\n          </tr>\n          <tr>\n            <td style=\"text-align:center;padding:5px 10px;\" colspan=\"8\">{{item.materielCode}}</td>\n          </tr>\n          <tr>\n            <th style=\"text-align:left;padding:5px 10px;\" colspan=\"3\">数量</th>\n            <th style=\"text-align:left;padding:5px 10px;\" colspan=\"5\">物料名称</th>\n          </tr>\n          <tr>\n            <td style=\"text-align:center;padding:5px 10px;font-size:20px;\" colspan=\"3\" rowspan=\"3\">{{item.num}}</td>\n            <td style=\"text-align:center;padding:5px 10px;\" colspan=\"5\">{{item.materielName}}</td>\n          </tr>\n\n          <tr>\n            <th style=\"text-align:left;padding:5px 10px;\" colspan=\"5\">批次</th>\n          </tr>\n          <tr>\n            <td style=\"text-align:center;padding:5px 10px;\" colspan=\"5\">{{item.batch}}</td>\n          </tr>\n\n          <tr>\n            <th style=\"text-align:left;padding:5px 10px;\" colspan=\"3\">需求单位</th>\n            <th style=\"text-align:left;padding:5px 10px;\" colspan=\"5\">到货地点</th>\n            <th style=\"text-align:left;padding:5px 10px;\" colspan=\"4\">卸货站台</th>\n          </tr>\n          <tr>\n            <td style=\"text-align:center;padding:5px 10px;\" colspan=\"3\">{{item.arrivalCompany}}</td>\n            <td style=\"text-align:center;padding:5px 10px;\" colspan=\"5\">{{item.arrivalWarehouse}}</td>\n            <td style=\"text-align:center;padding:5px 10px;\" colspan=\"4\">{{item.unloadAddress}}</td>\n          </tr>\n\n          <tr>\n            <th style=\"text-align:left;padding:5px 10px;\" colspan=\"3\">供应商编码</th>\n            <th style=\"text-align:left;padding:5px 10px;\" colspan=\"9\">供应商名称</th>\n          </tr>\n\n          <tr>\n            <td style=\"text-align:center;padding:5px 10px;font-size:20px;\" colspan=\"3\" rowspan=\"3\">{{item.supplierCode}}</td>\n            <td style=\"text-align:center;padding:5px 10px;\" colspan=\"9\">{{item.supplierName}}</td>\n          </tr>\n          <tr>\n            <th style=\"text-align:left;padding:5px 10px;\" colspan=\"5\">订单号</th>\n            <th style=\"text-align:left;padding:5px 10px;\" colspan=\"4\">交货单号</th>\n          </tr>\n          <tr>\n            <td style=\"text-align:center;padding:5px 10px;\" colspan=\"5\">{{item.purchaseOrderNumber}}</td>\n            <td style=\"text-align:center;padding:5px 10px;\" colspan=\"4\">{{item.orderNumber}}</td>\n          </tr>\n          <tr>\n            <td style=\"text-align:center;padding:5px 10px;height:80px;\" colspan=\"12\">\n              <svg :id=\"'barcode'+item.rowId\"></svg>\n            </td>\n          </tr>\n        </table>\n        <div style=\"page-break-after: always;\"></div>\n      </div>\n    </div>\n  </el-dialog>\n</div>\n\n</div>\n",null]}