{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/RF/troubleshooting/faultResponse/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/RF/troubleshooting/faultResponse/index.vue","mtime":1596610933424},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as api from '@/api/data-base/color'\nimport Pagination from '@/components/Pagination'\nimport caiGou from '@/components/Select/caigou'\nimport 'echarts-gl'\n\nexport default {\n    name: 'failureNumber',\n    components: { Pagination, caiGou },\n    data() {\n        return {\n            list: null,\n            subList: null,\n            value: undefined,\n            total: 0,\n            totalSub: 0,\n            theight: 0, //表格高度\n            listQuery: {\n                page: true,\n                currentPage: 1,\n                pageSize: 15,\n                colorCode: undefined,\n                colorName: undefined\n            },\n            listQuerySub: {\n                page: true,\n                currentPage: 1,\n                pageSize: 15\n            },\n            tableKey: [0, 1]\n        }\n    },\n    mounted() {\n        this.setTableHeight()\n        //表格高度自适应\n        window.onresize = () => {\n            this.setTableHeight()\n        }\n        this.getList()\n        this.getListSub()\n        this.drawLine()\n    },\n    methods: {\n        drawLine() {\n            let myChart = this.$echarts.init(document.getElementById('myChart'))\n            var xAxis = [\n                '故障总数',\n                '及时修复',\n                '暂不维修',\n                '响应超时',\n                '维修超时',\n                '返修次数'\n            ]\n            var yAxis = [\n                '测试车间1',\n                '测试车间2',\n                '测试车间3',\n                '测试车间4',\n                '测试车间5'\n            ]\n\n            var data = [\n                [0, 0, 5],\n                [0, 1, 1],\n                [0, 2, 0],\n                [0, 3, 30],\n                [0, 4, 0],\n                [0, 5, 0],\n                [1, 0, 7],\n                [1, 1, 0],\n                [1, 2, 0],\n                [1, 3, 20],\n                [1, 4, 0],\n                [1, 5, 0],\n                [2, 0, 1],\n                [2, 1, 1],\n                [2, 2, 0],\n                [2, 3, 0],\n                [2, 4, 30],\n                [2, 5, 0],\n                [3, 0, 7],\n                [3, 1, 3],\n                [3, 2, 0],\n                [3, 3, 0],\n                [3, 4, 0],\n                [3, 5, 30],\n                [4, 0, 1],\n                [4, 1, 3],\n                [4, 2, 0],\n                [4, 3, 0],\n                [4, 4, 0],\n                [4, 5, 1]\n            ]\n            // 绘制图表\n            myChart.setOption({\n                title: { text: '故障响应' },\n                tooltip: {},\n                visualMap: {\n                    max: 20,\n                    inRange: {\n                        color: [\n                            '#313695',\n                            '#4575b4',\n                            '#74add1',\n                            '#abd9e9',\n                            '#e0f3f8',\n                            '#ffffbf',\n                            '#fee090',\n                            '#fdae61',\n                            '#f46d43',\n                            '#d73027',\n                            '#a50026'\n                        ]\n                    }\n                },\n                xAxis3D: {\n                    name: '',\n                    type: 'category',\n                    data: xAxis,\n                    axisLine: {\n                        lineStyle: {\n                            opacity: 0\n                        }\n                    },\n                    axisLabel: {\n                        margin: 20\n                    },\n                    axisTick: {\n                        show: false\n                    },\n                    splitLine: {\n                        show: false\n                    }\n                },\n                yAxis3D: {\n                    name: '',\n                    type: 'category',\n                    data: yAxis,\n                    axisLine: {\n                        lineStyle: {\n                            opacity: 0\n                        }\n                    },\n                    axisLabel: {\n                        margin: 10\n                    },\n                    axisTick: {\n                        show: false\n                    },\n                    splitLine: {\n                        show: false\n                    }\n                },\n                zAxis3D: {\n                    name: '',\n                    type: 'value',\n                    max: 30,\n                    axisLine: {\n                        lineStyle: {\n                            opacity: 0\n                        }\n                    },\n                    axisLabel: {\n                        margin: 20\n                    },\n                    axisTick: {\n                        show: false\n                    }\n                },\n                grid3D: {\n                    boxWidth: 150,\n                    boxDepth: 80,\n                    light: {\n                        main: {\n                            intensity: 1.2,\n                            shadow: true\n                        },\n                        ambient: {\n                            intensity: 0.3\n                        }\n                    }\n                },\n                series: [\n                    {\n                        type: 'bar3D',\n                        data: data.map(function(item) {\n                            return {\n                                value: [item[1], item[0], item[2]]\n                            }\n                        }),\n                        shading: 'lambert',\n\n                        label: {\n                            textStyle: {\n                                fontSize: 16,\n                                borderWidth: 1\n                            }\n                        },\n\n                        emphasis: {\n                            label: {\n                                textStyle: {\n                                    fontSize: 20,\n                                    color: '#900'\n                                }\n                            },\n                            itemStyle: {\n                                color: '#900'\n                            }\n                        }\n                    }\n                ]\n            })\n        },\n\n        getList() {\n            api.queryRecords(this.listQuery).then(res => {\n                this.list = res.data.list\n                this.total = res.data.pages.count\n            })\n        },\n        getListSub() {\n            api.queryRecords(this.listQuery).then(res => {\n                this.subList = res.data.list\n                this.totalSub = res.data.pages.count\n            })\n        },\n        //表格高度计算\n        setTableHeight() {\n            this.theight = this.$myFun.getSingleTbHeight() - 185\n        },\n        handleQuery() {\n            //查询\n            this.listQuery.currentPage = 1\n            this.getList()\n        }\n    }\n}\n",null]}