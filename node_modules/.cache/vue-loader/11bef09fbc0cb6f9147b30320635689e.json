{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/components/mixTable/table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/components/mixTable/table.vue","mtime":1596610933465},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Pagination from '@/components/Pagination'\r\nexport default {\r\n    name: 'mixTable',\r\n    components: { Pagination },\r\n    props: [\r\n        'tableConfig',\r\n        'oprateWidth',\r\n        'dataList',\r\n        'oprateBtnConfig',\r\n        'listQuery',\r\n        'hideSelect',\r\n        'inlineOprateConfig',\r\n        'theight',\r\n        'total'\r\n    ],\r\n    data() {\r\n        return {\r\n            // isSingle: true,\r\n            curChange: false, //if the current row change\r\n            clickChange: false, //if click another row\r\n            currentClickRow: null,\r\n            currentSelectedRow: null, // current select row\r\n            selectedRows: [] // all the selected rows\r\n        }\r\n    },\r\n    methods: {\r\n        handleQuery() {\r\n            this.$emit('handleQuery', this.listQuery)\r\n        },\r\n        oprateClick(id) {\r\n            this.$emit('oprateClick', id, this.selectedRows)\r\n        },\r\n        //check if checked return true else return false\r\n        checkSelectStatus(rows, row) {\r\n            let checkStatus = false\r\n            if (rows) {\r\n                if (\r\n                    this.selectedRows.length <= rows.length &&\r\n                    rows.length != 0\r\n                ) {\r\n                    checkStatus = true\r\n                }\r\n            }\r\n            if (row) {\r\n                if (\r\n                    JSON.stringify(this.selectedRows).indexOf(\r\n                        JSON.stringify(row)\r\n                    ) == -1\r\n                ) {\r\n                    checkStatus = true\r\n                }\r\n            }\r\n            return checkStatus\r\n        },\r\n        //trigger by any change of select or row-click event\r\n        //rows all current select rows\r\n        selectChange(rows) {\r\n            this.selectedRows = rows\r\n            if (this.clickChange) {\r\n                this.$refs.tb.setCurrentRow(this.currentClickRow)\r\n                this.$emit(\r\n                    'selectChange',\r\n                    this.selectedRows,\r\n                    this.currentClickRow\r\n                )\r\n            }\r\n        },\r\n        //trigger by the table selection checkbox\r\n        //rows：all current select rows  row：current oprate row\r\n        tableSelect(rows, row) {\r\n            let selectStatus = this.checkSelectStatus(rows)\r\n            if (JSON.stringify(this.currentClickRow) === JSON.stringify(row)) {\r\n                this.clickChange = false\r\n            } else {\r\n                this.clickChange = true\r\n                this.currentClickRow = row\r\n            }\r\n            if (selectStatus) {\r\n                this.currentSelectedRow = row\r\n            } else {\r\n                this.curChange = false\r\n            }\r\n        },\r\n        //trigger by click the table row (exclude click the the table selection checkbox)\r\n        //row：current click row\r\n        rowClick(row) {\r\n            if (JSON.stringify(this.currentClickRow) === JSON.stringify(row)) {\r\n                this.clickChange = false\r\n            } else {\r\n                this.clickChange = true\r\n            }\r\n            this.currentClickRow = row\r\n            let selectStatus = this.checkSelectStatus(null, row)\r\n            if (selectStatus) {\r\n                this.currentSelectedRow = row\r\n                this.$refs.tb.toggleRowSelection(row, true)\r\n            } else {\r\n                if (this.clickChange) {\r\n                    this.$refs.tb.setCurrentRow(this.currentClickRow)\r\n                    this.$emit(\r\n                        'selectChange',\r\n                        this.selectedRows,\r\n                        this.currentClickRow\r\n                    )\r\n                }\r\n            }\r\n        },\r\n        setFirstLine() {\r\n            this.clickChange = true\r\n            this.currentSelectedRow = this.dataList[0]\r\n            this.currentClickRow = this.dataList[0]\r\n            this.$refs.tb.toggleRowSelection(this.dataList[0], true)\r\n        },\r\n        //表格显示条数变化\r\n        handleSizeChange(val) {\r\n            this.$emit('handleSizeChange', val)\r\n        },\r\n        //表格当前页变化\r\n        handleCurrentChange(val) {\r\n            this.$emit('handleCurrentChange', val)\r\n        },\r\n        handleInlineOprate(id, index, row) {\r\n            this.$emit('handleInlineOprate', id, index, row)\r\n        }\r\n    }\r\n}\r\n",null]}