{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/contractManage/supplierPerformance/problemManage/problemHandling/dialog/addMain.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/contractManage/supplierPerformance/problemManage/problemHandling/dialog/addMain.vue","mtime":1596610933628},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { DICT_CODE } from '@/utils/constant'\nimport caiGou from '@/components/Select/xtpt/caigou'//下拉组件\nimport * as api from \"@/api/system/organization\"\nimport dialogOrgSelect from '@/components/Dialog/dialogOrgSelect'\nimport dialogPersonSelect from '@/components/Dialog/dialogPersonSelect.vue'//选择人\nimport dialogGysxz from '@/components/Dialog/dialogsGysxz'//供应商选择\nimport dialogMaterielCategory from '@/components/Dialog/dialogMaterielCategory.vue'//物料分类\nimport { mapState } from \"vuex\"\nexport default {\n    components: { caiGou, dialogOrgSelect, dialogPersonSelect, dialogGysxz, dialogMaterielCategory },\n    data () {\n        return {\n            DICT_CODE: DICT_CODE,\n            enableds: false,\n            dialogStatus: '',\n            dialogVisible: false,\n            dialogwlVisible: false,\n            treeData: [],\n            listQuery: {},\n            temp: {\n\n            },\n            titlePerson: null,\n            defaultProps: {\n                children: \"children\",\n                label: \"organizationName\"\n            },\n            //基本非组件选择框\n            selectCommonConfig: [\n                {\n                    placeholder: '提交部门', bindRef: 'submitDepart', class: 'filter-item',\n                    optionArr: [\n                        { key: '0', value: '品质保证部', label: '品质保证部' },\n                    ]\n                },\n                {\n                    placeholder: '提交人', bindRef: 'submitPerson', class: 'filter-item',\n                    optionArr: [\n                        { key: '0', value: '黄渤', label: '黄渤' },\n                        { key: '0', value: '黄磊', label: '黄磊' },\n                        { key: '0', value: '罗志祥', label: '罗志祥' },\n                    ]\n                },\n                {\n                    placeholder: '供应商', bindRef: 'supplierCode', class: 'filter-item',\n                    optionArr: [\n                        { key: '0', value: '江西逸晨科技有限公司', label: '江西逸晨科技有限公司' },\n                        { key: '1', value: '苏州微晶自动化有限公司', label: '苏州微晶自动化有限公司' },\n                        { key: '2', value: '北京诺亚信科技有限公司', label: '北京诺亚信科技有限公司' },\n                        { key: '3', value: '南京极镪贸易有限公司', label: '南京极镪贸易有限公司' },\n                    ]\n                },\n                {\n                    placeholder: '状态', bindRef: 'state', class: 'filter-item',\n                    optionArr: [\n                        { key: '0', value: '问题提出', label: '问题提出' },\n                        { key: '1', value: '解决中', label: '解决中' },\n                        { key: '2', value: '待复检', label: '待复检' },\n                        { key: '3', value: '复检中', label: '复检中' },\n                        { key: '4', value: '关闭', label: '关闭' },\n                        { key: '5', value: '再重发', label: '再重发' },\n                        { key: '6', value: '重发解决', label: '重发解决' },\n                        { key: '7', value: '待重捡', label: '待重捡' },\n                        { key: '8', value: '重建中', label: '重建中' },\n                        { key: '9', value: '重建关闭', label: '重建关闭' },\n                    ]\n                },\n                {\n                    placeholder: '严重等级', bindRef: 'rank', class: 'filter-item',\n                    optionArr: [\n                        { key: '0', value: '紧急', label: '紧急' },\n                        { key: '1', value: '高', label: '高' },\n                        { key: '2', value: '中', label: '中' },\n                        { key: '3', value: '低', label: '低' },\n                    ]\n                },\n                {\n                    placeholder: '确认状态', bindRef: 'confirmState', class: 'filter-item',\n                    optionArr: [\n                        { key: '0', value: '已确认', label: '已确认' },\n                        { key: '1', value: '未确认', label: '未确认' },\n                        { key: '2', value: '确认中', label: '确认中' },\n                    ]\n                },\n                {\n                    placeholder: '确认人', bindRef: 'confirmPerson', class: 'filter-item',\n                    optionArr: [\n                        { key: '0', value: '孙红雷', label: '孙红雷' },\n                        { key: '1', value: '张艺兴', label: '张艺兴' },\n                        { key: '2', value: '王迅', label: '王迅' },\n                    ]\n                },\n                {\n                    placeholder: '处理类型', bindRef: 'handleType', class: 'filter-item',\n                    optionArr: [\n                        { key: '0', value: '正常处理', label: '正常处理' },\n                        { key: '1', value: '改善处理', label: '改善处理' },\n                        { key: '2', value: '补充处理', label: '补充处理' },\n                        { key: '3', value: '重发处理', label: '重发处理' },\n                    ]\n                },\n                {\n                    placeholder: '解决负责人', bindRef: 'solvePerson', class: 'filter-item',\n                    optionArr: [\n                        { key: '0', value: '雷佳音', label: '雷佳音' },\n                        { key: '1', value: '热巴', label: '热巴' },\n                        { key: '2', value: '岳云鹏', label: '岳云鹏' },\n                    ]\n                }\n            ],\n        }\n    },\n    computed: {\n        ...mapState({\n            dt_srm_pdn: state => state.dict.dt_srm_pdn,\n            dt_srm_pc5: state => state.dict.dt_srm_pc5,\n            dt_srm_pc4: state => state.dict.dt_srm_pc4,\n            dt_srm_pc3: state => state.dict.dt_srm_pc3,\n        })\n    },\n    mounted () {\n        this.$store.dispatch(\"dict/getDicData\", ['dt_srm_pdn', 'dt_srm_pc5', 'dt_srm_pc4', 'dt_srm_pc3'])\n    },\n    methods: {\n        //申请单位\n        showOrg () {\n            this.$refs.refOrg.dialogVisible = true\n        },\n        //申请单位确定\n        confirmOrg (data) {\n            console.log(data)\n            if (data) {\n                this.$set(this.temp, 'editOrgCode', data[0].organizationCode)\n                this.$set(this.temp, 'number6', data[0].organizationName)\n            } else {\n                this.$set(this.temp, 'editOrgCode', undefined)\n                this.$set(this.temp, 'number6', undefined)\n            }\n        },\n        //人员选择\n        showPerson (val) {\n            console.log(val, 'person')\n            if (val == 'TJperson') {\n                this.titlePerson = '提交人'\n            } else if (val == 'QRperson') {\n                this.titlePerson = '确认人'\n            } else {\n                this.titlePerson = '解决负责人'\n            }\n            this.$refs.person.dialogVisible = true\n        },\n        //人员选择确定\n        personConfirm (val) {\n            if (this.titlePerson == '提交人') {\n                if (val.length > 0) {\n                    this.$set(this.temp, 'submitPerson', val[0].employeeCode)\n                    this.$set(this.temp, 'submitPersonName', val[0].employeeName)\n                } else {\n                    this.$set(this.temp, 'submitPerson', undefined)\n                    this.$set(this.temp, 'submitPersonName', undefined)\n                }\n            }\n            if (this.titlePerson == '确认人') {\n                if (val.length > 0) {\n                    this.$set(this.temp, 'confirmPerson', val[0].employeeCode)\n                    this.$set(this.temp, 'confirmPersonName', val[0].employeeName)\n                } else {\n                    this.$set(this.temp, 'confirmPerson', undefined)\n                    this.$set(this.temp, 'confirmPersonName', undefined)\n                }\n            }\n            if (this.titlePerson == '解决负责人') {\n                if (val.length > 0) {\n                    this.$set(this.temp, 'solvePerson', val[0].employeeCode)\n                    this.$set(this.temp, 'solvePersonName', val[0].employeeName)\n                } else {\n                    this.$set(this.temp, 'solvePerson', undefined)\n                    this.$set(this.temp, 'solvePersonName', undefined)\n                }\n            }\n        },\n        showGys () {\n            this.$refs.refGys.dialogVisible = true\n            this.$refs.refGys.getList()\n        },\n        //供应商选择确定\n        handleGysClick (val) {\n            console.log(val)\n            this.$set(this.listQuery, 'supplierName', val[0].supplierName)\n            this.$set(this.listQuery, 'supplierCode', val[0].supplierCode)\n        },\n        //物料分类\n        handleClassifyCode () {\n            if (this.temp.orgCode) {\n                this.$refs.wlfl.listQuery.orgCode = this.temp.orgCode\n                this.$refs.wlfl.selectedRows = []\n                this.$refs.wlfl.handleQuery()\n                this.$refs.wlfl.dialogVisible = true\n            } else {\n                this.$message({ type: 'warning', message: '请先选择采购组织' })\n            }\n        },\n        //物料分类选择确定\n        confirmClassify (data) {\n            this.$set(this.temp, 'materialClassification', data[0].classCode)\n            this.$set(this.temp, 'materialClassificationName', data[0].className)\n        },\n        create () {\n\n        },\n        update () {\n\n        },\n        handlewlfl () {\n            this.dialogwlVisible = true\n            api.selecttree().then(response => {\n                //获取树数据\n                this.treeData = this.$myFun.addTreeRoot(response.data)\n\n            })\n        },\n    }\n}\n",null]}