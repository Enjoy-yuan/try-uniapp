{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/ER/equipmentMaintenance/tab4.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/ER/equipmentMaintenance/tab4.vue","mtime":1596610933401},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport *  as api from '@/api/project/eas/er/equipmentMaintenance'\n\nexport default {\n    name: 'dispatchOrderManagement',\n    components: {},\n    props: ['workOrderNumber'],\n    data () {\n        return {\n            // basurl:'113.57.169.228:7954',\n            fileList: [],\n            list: null,\n            newArr: [],\n            total: 0,\n            theight: 0, //表格高度\n            listQuery: {\n                fileType: undefined\n            },\n            temp: {\n                fileType: undefined,\n                category: undefined,\n                fileCode: undefined,\n                readName: undefined\n            },\n            files: undefined,\n            tableKey: [0]\n        }\n    },\n    created () {\n        this.getSetDefaults()\n    },\n    mounted () {\n        this.setTableHeight()\n        //表格高度自适应\n        window.onresize = () => {\n            this.setTableHeight()\n        }\n        // this.getList()\n\n    },\n    methods: {\n        getList () {\n            let fileType = 'img'\n            api.queryFile(this.workOrderNumber, fileType).then(res => {\n                this.list = res.data\n                this.newArr = []\n                for (var i = 0; i < this.list.length; i++) {\n                    api.queryPic(this.list[i].readName).then(res => {\n                        res.config.url = res.config.url.replace(process.env.VUE_APP_BASE_API11,\n                            process.env.VUE_APP_BASE_API11_URL)\n                        this.newArr.push(res.config.url)\n                        return this.newArr\n                    })\n                }\n\n            })\n\n        },\n        getSetDefaults () {\n            this.$viewer.setDefaults({\n                inline: true,\n                button: true, //右上角按钮\n                navbar: true, //底部缩略图\n                title: false, //当前图片标题\n                toolbar: true, //底部工具栏\n                tooltip: false, //显示缩放百分比\n                movable: true, //是否可以移动\n                zoomable: false, //是否可以缩放\n                rotatable: false, //是否可旋转\n                scalable: false, //是否可翻转\n                transition: false, //使用 CSS3 过度\n                fullscreen: false, //播放时是否全屏\n                keyboard: true, //是否支持键盘\n                url: 'data-source',\n                ready: function () {\n                    this.viewer = document.querySelector('.viewer-container')\n                }\n            })\n        },\n        //表格高度计算\n        setTableHeight () {\n            this.theight = this.$myFun.getSingleTbHeight() - 100\n        },\n    }\n}\n",null]}