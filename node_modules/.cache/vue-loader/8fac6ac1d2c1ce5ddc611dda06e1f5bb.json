{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/newProducts/projectManagement/projectMasterData/dialog/close.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/newProducts/projectManagement/projectMasterData/dialog/close.vue","mtime":1596611178283},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as api from \"@/api/project/srm/newProducts/projectMasterData\"\nimport throttle from 'lodash/throttle'\nexport default {\n    data () {\n        return {\n            dialogVisible: false,\n            temp: {\n                rowId: undefined,\n                closeExplain: undefined\n            },\n            rules: {\n                closeExplain: [{ required: true, message: '关闭说明不能为空', trigger: 'blur' }],\n            }\n        }\n    },\n    methods: {\n        handleClose () {\n            this.$refs.dataForm.resetFields()\n        },\n        createData: throttle(function () {\n            this.$refs.dataForm.validate(valid => {\n                if (valid) {\n                    let dto = {\n                        method: 'close',\n                        rowId: this.temp.rowId,\n                        closeExplain: this.temp.closeExplain\n                    }\n                    api.closeRecords(dto).then(() => {\n                        this.$message({\n                            title: '成功',\n                            message: '关闭成功',\n                            type: 'success',\n                            duration: 2000\n                        })\n                        this.dialogVisible = false\n                        this.$emit('refresh')\n                    })\n                } else {\n                    return false\n                }\n            })\n        }, 2000,\n            {\n                leading: true,\n                trailing: false\n            }\n        ),\n    }\n}\n",null]}