{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/EL/equipmentRequisition/dialog/addItems.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/EL/equipmentRequisition/dialog/addItems.vue","mtime":1596610933379},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import * as api from \"@/api/project/srm/dataBase/specialDistinction\"\nimport { DICT_CODE } from '@/utils/constant'\nimport { mapState } from 'vuex'\nimport selectTree from \"@/components/Select/selectTree\" //下拉组件\nimport { queryRecords } from '@/api/project/eas/database/eqmt'\nimport vendorMainSelect from \"@/components/Select/vendorMainSelect.vue\" //厂家\nimport suppierSelect from \"@/components/Select/suppierSelect.vue\" //供应商\nexport default {\n    components: { selectTree, vendorMainSelect, suppierSelect },\n    data () {\n        return {\n            DICT_CODE: DICT_CODE,\n            temp: {\n                rowId: undefined\n            },\n            dialogStatus: '',\n            dialogVisible: false,\n            rules: {\n                purchaseOrg: [{ required: true, message: '采购组织不能为空', trigger: 'blur' }],\n                distinctionName: [{ required: true, message: '区分名称不能为空', trigger: 'blur' }],\n            },\n            isClearable: true, // 可清空（可选）\n            isAccordion: true, // 可收起（可选）\n            props: {\n                // 配置项（必选）\n                rowId: 'rowId', // 父级唯一标识\n                children: 'children',\n                label: 'typeName'\n                // disabled:true\n            },\n            optionData: [],\n            dialogVisibleVendorMain: false,\n            dialogVisibleSuppier: false,\n            parentRows: [],\n            parentSupplier: []\n        }\n    },\n    computed: {\n        ...mapState({\n            dt_equip_type: state => state.eamDict.dt_equip_type,\n\n        })\n    },\n    mounted () {\n        this.$store.dispatch('eamDict/getDicData', ['dt_equip_type'])\n        this.getEquipType()\n    },\n    methods: {\n        //获取采购组织名称\n        selectName (val) {\n            this.temp.purchaseOrgName = val\n        },\n        //获取设备类型下拉树\n        getEquipType () {\n            queryRecords().then(res => {\n                this.optionData = this.$myFun.buildTree(\n                    res.data,\n                    'typeCode',\n                    'superiorCode'\n                )[0].children\n            })\n        },\n        getValue (value) {\n            if (value) {\n                this.temp.typeCode = value.typeCode\n                this.temp.typeName = value.typeName\n            } else {\n                this.temp.typeCode = undefined\n            }\n        },\n        handleEquipment () {\n            this.dialogVisibleVendorMain = true\n        },\n        handleVendorMain (val) {\n            this.parentRows = val\n        },\n        confirmVendorMain () {\n            if (this.parentRows) {\n                this.$set(this.temp, 'manufacturersCode', this.parentRows.manufacturersCode)\n                this.$set(this.temp, 'manufacturersName', this.parentRows.manufacturersName)\n                this.dialogVisibleVendorMain = false\n            } else {\n                this.$message({\n                    title: '警告',\n                    message: '请选择一条信息',\n                    type: 'warning'\n                })\n            }\n        },\n        handleSupplier () {\n            this.dialogVisibleSuppier = true\n        },\n        suppier (val) {\n            this.parentSupplier = val\n        },\n        confirmSuppier () {\n            if (this.parentSupplier) {\n                this.$set(this.temp, 'supplierCode', this.parentSupplier.supplierCode)\n                this.$set(this.temp, 'supplierName', this.parentSupplier.supplierName)\n                this.dialogVisibleSuppier = false\n            } else {\n                this.$message({\n                    title: '警告',\n                    message: '请选择一条信息',\n                    type: 'warning'\n                })\n            }\n        },\n        createData () {\n            this.dialogVisible = false\n            this.temp.accountQuantity = 0\n            this.temp.arrivalQuantity = 0\n            this.$emit('dataList', this.temp)\n        },\n        resetTemp () {\n            this.temp = {\n                deviceName: undefined,\n                typeCode: undefined,\n                category: undefined,\n                modelNumber: undefined,\n                manufacturersName: undefined,\n                supplierName: undefined,\n                referencePrice: undefined,\n                requisitionsQuantity: undefined\n            }\n        }\n    }\n}\n",null]}