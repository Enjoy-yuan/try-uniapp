{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/contractManage/contractTemplate/templateMaintenance/preview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/contractManage/contractTemplate/templateMaintenance/preview.vue","mtime":1596610933618},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport * as api from \"@/api/project/srm/dataBase/dictMaintenance\"\nimport Pagination from \"@/components/Pagination\"\nexport default {\n    components: { Pagination },\n    data () {\n        return {\n            tableKey: 0,\n            pageSize: null,\n            list: [],\n            total: 0,\n            listQuery: {\n                //查询\n                page: true,\n                currentPage: 1,\n                pageSize: 15\n            },\n        }\n    },\n    mounted () {\n        this.getList()\n    },\n    methods: {\n        //获取表格数据\n        getList () {\n            api.queryRecords(this.listQuery).then(res => {\n                this.list = res.data.list\n                this.total = res.data.pages.count\n                this.pageSize = res.data.pages.pageSize\n            })\n        },\n        initForm (type, row) {\n            console.log(type, row)\n        },\n        handleClose () {\n            this.$emit('changeState', 'list')\n        },\n        doReceiptPrint () {\n            // let newWin = window.open(\"\")\n            // for (let i = 0; i < this.pageSize - 1; i++) {\n            //     this.listQuery.currentPage = this.listQuery.currentPage + 1\n            //     api.queryRecords(this.listQuery).then(res => {\n            //         this.list = res.data.list\n            //         this.total = res.data.pages.count\n            //         this.pageSize = res.data.pages.pageSize\n            //         var newstr = document.getElementById('easyPrint').innerHTML\n            //         console.log(newstr, '123456')\n            //         newWin.document.write(newstr)\n            //         newWin.document.close()//IE添加\n\n            //         setTimeout(function () {\n            //             newWin.print()\n            //             newWin.close()\n            //         }, 100)\n            //     })\n\n            // }\n            this.$print(this.$refs.print)\n        },\n        handleDelete (index, val) {\n            console.log(index, val)\n        },\n        handleUpdate (index, val) {\n            console.log(index, val)\n        }\n    }\n}\n",null]}