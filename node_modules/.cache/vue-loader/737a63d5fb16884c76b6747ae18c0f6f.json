{"remainingRequest":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/cf_web/src/components/template/dialog/dialog2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/cf_web/src/components/template/dialog/dialog2.vue","mtime":1600927611147},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/cf_web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// import { createRecords, updateRecords } from \"@/api/productionMaterial/hand_pull_material\";\n\nexport default {\n    name: 'addMain',\n    props: ['unMutiple', 'title', 'curdialogStatus'],\n    data () {\n        let compareDate = (rule, value, callback) => {\n            if (value < this.mainList.stockTime) {\n                return callback(new Error('送达时间不能小于备货时间'));\n            } else {\n                callback();\n            }\n        };\n        return {\n            mainList: {\n                method: null,\n                pullOrderCode: null,\n                purchaseOrgCode: null,\n                supplierCode: null,\n                supplierName: null,\n                pullMaterialType: null,\n                thirdPartyWarehouse: null,\n                stockTime: null,\n                arrivalTime: null,\n                arrivalOrgCode: null,\n                warehouseCode: null,\n                note: null,\n                tableDetails: []\n            },\n            listSelected: null,//已选项\n            selectRowData: null,\n            mainTitle: [\n                { width: null, align: 'left', label: 'id', prop: 'id' },\n                { width: null, align: 'left', label: '专辑', prop: 'name' },\n                { width: null, align: 'left', label: '类型', prop: 'category' },\n                { width: null, align: 'left', label: '名称', prop: 'desc' },\n                { width: null, align: 'left', label: '地址', prop: 'address' },\n                { width: null, align: 'left', label: '店铺', prop: 'shop' }\n            ],\n            dialogVisible: false,\n            rules: {\n                stockTime: [\n                    { required: true, message: '请选择', trigger: 'blur' }\n                ],\n                arrivalTime: [\n                    { required: true, message: '请选择', trigger: 'blur' },\n                    { validator: compareDate, trigger: 'blur' }\n                ]\n            },\n        }\n    },\n    created () {\n\n    },\n    computed: {\n\n    },\n    mounted () {\n\n    },\n    methods: {\n        //初始化选中内容\n        initSelect (val) {\n            this.listAll = null;\n            this.listSelected = null;\n            this.listSelected = val;\n        },\n        resetForm () {\n            this.mainList = {\n                method: null,\n                pullOrderCode: null,\n                purchaseOrgCode: null,\n                supplierCode: null,\n                supplierName: null,\n                pullMaterialType: null,\n                thirdPartyWarehouse: null,\n                stockTime: null,\n                arrivalTime: null,\n                arrivalOrgCode: null,\n                warehouseCode: null,\n                note: null,\n                tableDetails: [],\n                purchaseOrgName: null,\n            }\n        },\n        addMainConfirm () {\n            this.$refs.mainList.validate((valid) => {\n                if (valid) {\n                    this.$confirm('确认保存吗?', '提示', {\n                        confirmButtonText: '确定',\n                        cancelButtonText: '取消',\n                        type: 'warning'\n                    }).then(() => {\n                        this.dialogConfirm();\n                    }).catch(() => {\n                        this.$message({\n                            type: 'info',\n                            message: '已取消'\n                        });\n                    });\n                }\n            });\n        },\n        updateMainConfirm () {\n            this.$refs.mainList.validate((valid) => {\n                if (valid) {\n                    this.$confirm('确认保存吗?', '提示', {\n                        confirmButtonText: '确定',\n                        cancelButtonText: '取消',\n                        type: 'warning'\n                    }).then(() => {\n                        this.dialogConfirm();\n                    });\n                }\n            });\n\n        },\n        //添加项\n        addSub () {\n            this.mainList.tableDetails = [\n                { id: '0', name: '第一张专辑', category: '专辑', desc: '第一张创作专辑', address: '相信音乐', shop: '相信音乐国际股份有限公司', inputValue: '1' },\n                { id: '1', name: '第二张专辑', category: '专辑', desc: '爱情万岁', address: '相信音乐', shop: '相信音乐国际股份有限公司', inputValue: '1' },\n                { id: '2', name: '第三张专辑', category: '专辑', desc: '人生海海', address: '相信音乐', shop: '相信音乐国际股份有限公司', inputValue: '1' },\n                { id: '3', name: '第四张专辑', category: '专辑', desc: '时光机', address: '相信音乐', shop: '相信音乐国际股份有限公司', inputValue: '1' },\n                { id: '4', name: '第五张专辑', category: '专辑', desc: '神的孩子都在跳舞', address: '相信音乐', shop: '相信音乐国际股份有限公司', inputValue: '1' }\n            ];\n\n        },\n        showGys () {\n\n        },\n        //删除内容某一行,点了保存才删除成功\n        deleteContent () {\n            if (this.listSelected.length !== 0) {\n                this.$confirm('确认要删除该数据项吗?', '提示', {\n                    confirmButtonText: '确定',\n                    cancelButtonText: '取消',\n                    type: 'warning'\n                }).then(() => {\n                    this.mainList.tableDetails = this.mainList.tableDetails.filter(item => {\n                        let isD = true;\n                        this.listSelected.forEach((itemr) => {\n                            if (itemr.id === item.id) {\n                                isD = false;\n                            }\n                        });\n                        return isD;\n                    })\n\n                    this.$message({\n                        type: 'success',\n                        message: '删除成功'\n                    });\n                }).catch(() => {\n                    this.$message({\n                        type: 'info',\n                        message: '已取消'\n                    });\n                });\n            } else {\n                this.$message.warning(\"请勾选记录！\");\n                return;\n            }\n        },\n        selectChange (val) {\n            if (this.unMutiple) {\n                this.selectOneRow(val);\n            } else {\n                this.selectRows(val);\n            }\n        },\n        selectRows (val) {//备选项选中行\n            this.selectRowData = val\n            this.listSelected = this.selectRowData;\n            // this.getDetail(val[val.length - 1]);\n            // this.$emit('clickRows' ,val,this.listSub);\n        },\n        selectOneRow (val) {\n            let arr = [];\n            arr.push(val[val.length - 1])\n            this.selectRowData = arr;\n            // if (arr[0]) {\n            //     this.getDetail(arr[0]);\n            // }\n            if (val.length > 1) {\n                this.$refs.tbselect.clearSelection()\n                this.$refs.tbselect.toggleRowSelection(val[val.length - 1], 'selected')\n            }\n            this.listSelected = this.selectRowData;\n\n        },\n        //弹框3点击确定\n        dialogConfirm () {\n            this.$emit('handleDialogClick', this.mainList, 3);\n            this.dialogVisible = false;\n        }\n    }\n}\n",null]}