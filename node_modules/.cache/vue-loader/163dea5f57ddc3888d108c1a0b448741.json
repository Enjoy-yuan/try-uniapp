{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/EM/maintainOrder/index.vue?vue&type=template&id=51b72c07&scoped=true&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/EM/maintainOrder/index.vue","mtime":1596610933388},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n    <div class=\"app-container\">\n        <div class=\"filter-container\">\n            <div class=\"filter-items\">\n                <caiGou :orgType=\"DT_ORG_TYPE.factory\" :placeholder=\"'组织编码'\" v-model=\"listQuery.orgCode\"></caiGou>\n                <teamSelect ref=\"teamSelectQuery\" :orgCode=\"listQuery.orgCode\" :disabled=\"!listQuery.orgCode\" placeholder=\"保养班组\" v-model=\"listQuery.teamCode\">\n                </teamSelect>\n                <el-select @keyup.enter.native=\"handleQuery\" class=\"filter-item\" clearable placeholder=\"状态\" size=\"small\" v-model=\"listQuery.state\">\n                    <el-option :key=\"item.dictItemKey\" :label=\"item.dictItemValue\" :value=\"item.dictItemKey\" v-for=\"item in dt_upkeep_worder_state\" />\n                </el-select>\n                <el-date-picker end-placeholder=\"结束时间\" size=\"small\" start-placeholder=\"开单时间\" style=\"width: 300px\" type=\"datetimerange\" v-model=\"timeRange\" value-format=\"yyyy-MM-dd hh:mm:ss\"></el-date-picker>\n                <el-button @click=\"handleQuery\" class=\"filter-item-btn filter-item\" icon=\"el-icon-search\" size=\"small\" type=\"primary\">{{ $t('btn.query') }}</el-button>\n            </div>\n        </div>\n\n        <div class=\"table-container\">\n            <div class=\"oprate_btn\">\n                <el-button @click=\"handleCreate\" class=\"filter-item\" icon=\"el-icon-plus\" size=\"small\" type=\"primary\">{{ $t('table.add') }}</el-button>\n                <el-button @click=\"handleDelete\" class=\"filter-item\" icon=\"el-icon-delete\" size=\"small\" type=\"primary\">{{ $t('btn.delete') }}</el-button>\n                <el-button @click=\"handleDispatch\" class=\"filter-item\" icon=\"el-icon-plus\" size=\"small\" type=\"primary\">{{ $t('btn.dispatch') }}</el-button>\n                <el-button @click=\"handleCreate\" class=\"filter-item\" icon=\"el-icon-edit\" size=\"small\" type=\"primary\">{{ $t('btn.export') }}</el-button>\n            </div>\n            <el-table :data=\"list\" :height=\"theight\" :key=\"tableKey[0]\" @row-click=\"rowClick\" @select=\"tableSelect\" @selection-change=\"selectChange\" border cell-class-name=\"table-cell\" fit header-cell-class-name=\"header-cell\" highlight-current-row ref=\"tb\">\n                <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                <el-table-column align=\"center\" label=\"操作\" min-width=\"100\" prop=\"rowId\" show-overflow-tooltip>\n                    <template slot-scope=\"scope\">\n                        <el-button @click=\"handleCheckRow(scope.row)\" size=\"small\" type=\"text\">修改</el-button>\n                    </template>\n                </el-table-column>\n                <el-table-column align=\"center\" label=\"状态\" prop=\"stateCN\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"工单号\" prop=\"workOrderNumber\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"组织编码\" prop=\"orgCode\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"设备编号\" prop=\"equipmentCode\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"设备名称\" prop=\"deviceName\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"计划号\" prop=\"maintainPlanCode\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"保养班组\" prop=\"teamName\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"保养人\" prop=\"applicantName\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"保养开始时间\" prop=\"planStartTime\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"保养结束时间\" prop=\"planEndTime\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"保养用时\" prop=\"organizationCode\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"设备类型\" prop=\"deviceTypeName\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"使用部门\" prop=\"useDeptName\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"设备地址\" prop=\"addressName\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"保养费用\" prop=\"organizationCode\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"备件费用\" prop=\"organizationCode\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"保养信息\" prop=\"organizationCode\" show-overflow-tooltip></el-table-column>\n                <el-table-column align=\"center\" label=\"验证人\" prop=\"organizationCode\" show-overflow-tooltip></el-table-column>\n            </el-table>\n            <pagination :limit.sync=\"listQuery.pageSize\" :page.sync=\"listQuery.currentPage\" :total=\"total\" @pagination=\"getList\" />\n            <hr class=\"hrtLineStyle\" />\n\n            <hr class=\"hrLineStyle\" />\n            <el-tabs @tab-click=\"changeTab\" class=\"no_t_border\" type=\"border-card\" v-model=\"currentTab\">\n                <el-tab-pane label=\"保养明细\" name=\"tab1\">\n                    <el-table :data=\"fromList\" :height=\"theight\" :key=\"tableKey[1]\" border cell-class-name=\"table-cell\" fit header-cell-class-name=\"header-cell\" highlight-current-row ref=\"tb2\">\n                        <el-table-column align=\"center\" label=\"序号\" min-width=\"100\" prop=\"rowId\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"保养部位\" min-width=\"100\" prop=\"maintenanceCode\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"保养表征\" min-width=\"100\" prop=\"maintenanceContent\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"是否正常\" min-width=\"100\" prop=\"ifNormal\" show-overflow-tooltip>\n                            <template slot-scope=\"scope\">{{scope.row.ifNormal|normalFilter}}</template>\n                        </el-table-column>\n                        <el-table-column align=\"center\" label=\"备注\" min-width=\"100\" prop=\"materialProperty\" show-overflow-tooltip></el-table-column>\n                    </el-table>\n                </el-tab-pane>\n                <el-tab-pane label=\"保养附件\" name=\"tab2\">\n                    <fileUpload :categoryData=\"dt_file_equipment\" :functionCode=\"transCode\" ref=\"fileUpload\" titleText=\"工单代码\"></fileUpload>\n                </el-tab-pane>\n            </el-tabs>\n\n            <el-dialog :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" :title=\"dialogStatus=='create'?'新增工单':'修改工单'\" :visible.sync=\"dialogVisible\" @close=\"handleClose\" custom-class=\"dialog-custom\" v-dialogDrag>\n                <el-form :model=\"temp\" :rules=\"dialogStatus=='create'?rules:rules2\" class=\"small-space\" label-position=\"center\" label-width=\"120px\" ref=\"temp\" size=\"mini\" style=\"width: 100%;min-width:400px;\">\n                    <el-form-item label=\"组织编码\" prop=\"orgCode\">\n                        <caiGou :orgType=\"DT_ORG_TYPE.factory\" @obj=\"getOrg\" placeholder=\"组织编码\" ref=\"caiGou\"></caiGou>\n                    </el-form-item>\n                    <el-form-item label=\"设备编号\" prop=\"equipmentCode\">\n                        <el-input disabled placeholder=\"设备编号\" v-model=\"temp.equipmentCode\">\n                            <el-button @click=\"createDevice\" icon=\"el-icon-search\" slot=\"append\"></el-button>\n                        </el-input>\n                    </el-form-item>\n                    <el-form-item label=\"设备名称\" prop=\"deviceName\">\n                        <el-input disabled placeholder=\"请选择设备编号\" v-model=\"temp.deviceName\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"设备型号\" prop=\"modelNumber\">\n                        <el-input disabled placeholder=\"请选择设备编号\" v-model=\"temp.modelNumber\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"使用部门\" prop=\"useDept\">\n                        <el-input disabled placeholder=\"请选择设备编号\" v-model=\"temp.useDeptName\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"设备地址\" prop=\"address\">\n                        <el-input disabled placeholder=\"请选择设备编号\" v-model=\"temp.addressName\"></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"上次保养时间\" prop=\"lastUpkeepTime\">\n                        <el-date-picker disabled placeholder=\"请选择\" type=\"date\" v-model=\"temp.lastUpkeepTime\" value-format=\"yyyy-MM-dd\"></el-date-picker>\n                    </el-form-item>\n                    <el-form-item label=\"保养班组\" prop=\"teamCode\">\n                        <teamSelect :disabled=\"temp.orgCode?false:true\" @obj=\"getTemp\" :orgCode=\"temp.orgCode\" :placeholder=\"temp.orgCode?'请选择':'请选择组织'\" ref=\"teamSelect\" v-model=\"temp.teamCode\"></teamSelect>\n                    </el-form-item>\n                    <el-form-item label=\"保养负责人\" prop=\"applicant\">\n                        <el-select :disabled=\"temp.teamCode?false:true\" :placeholder=\"temp.orgCode?'请选择':'请选择班组'\" size=\"small\" v-model=\"temp.applicant\">\n                            <el-option :key=\"item.employeeCode\" :label=\"item.employeeName\" :value=\"item.employeeCode\" v-for=\"item in teamWorker\" />\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"保养级别\" prop=\"maintainLevel\">\n                        <el-select size=\"small\" :disabled=\"dialogStatus!=='create'\" v-model=\"temp.maintainLevel\">\n                            <el-option :key=\"item.dictItemKey\" :label=\"item.dictItemValue\" :value=\"item.dictItemKey\" v-for=\"item in dt_upkeep_level\" />\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"计划保养时间\" prop=\"timeRange\" v-if=\"dialogStatus=='create'\">\n                        <el-date-picker end-placeholder=\"结束日期\" size=\"small\" start-placeholder=\"开始日期\" style=\"width: 240px\" type=\"datetimerange\" v-model=\"temp.timeRange\" value-format=\"yyyy-MM-dd hh:mm:ss\"></el-date-picker>\n                    </el-form-item>\n\n                    <hr class=\"hrLineStyle\" />\n\n                    <el-form-item class=\"item_sp\" label=\"保养部位\" prop=\"positionList\" style=\"margin-bottom:0 !important;margin-top:5px !important;\"></el-form-item>\n                    <div class=\"oprate_btn\">\n                        <el-button @click=\"handleAdd(1)\" class=\"filter-item\" icon=\"el-icon-plus\" size=\"small\" type=\"primary\">{{ $t('table.add') }}</el-button>\n                        <el-button @click=\"handleDeleteForm(1)\" class=\"filter-item\" icon=\"el-icon-edit\" size=\"small\" type=\"primary\">{{ $t('btn.delete') }}</el-button>\n                    </div>\n                    <el-table :data=\"temp.positionList\" :height=\"theight*0.4\" :key=\"tableKey[3]\" @row-click=\"rowClickFrom1\" @selection-change=\"selectFromChange1\" border cell-class-name=\"table-cell\" fit header-cell-class-name=\"header-cell\" highlight-current-row ref=\"sub1\">\n                        <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                        <el-table-column label=\"序号\" prop=\"rowId\" show-overflow-tooltip width=\"50\"></el-table-column>\n                        <el-table-column label=\"保养部位\" prop=\"partName\" show-overflow-tooltip></el-table-column>\n                        <el-table-column label=\"保养标准\" prop=\"maintenanceContent\" show-overflow-tooltip></el-table-column>\n                    </el-table>\n\n                    <hr class=\"hrLineStyle\" />\n\n                    <el-form-item class=\"item_sp\" label=\"备件使用\" prop=\"spareList\" style=\"margin-bottom:0 !important;margin-top:5px !important;\"></el-form-item>\n                    <div class=\"oprate_btn\">\n                        <el-button @click=\"handleAdd(2)\" class=\"filter-item\" icon=\"el-icon-plus\" size=\"small\" type=\"primary\">{{ $t('table.add') }}</el-button>\n                        <el-button @click=\"handleDeleteForm(2)\" class=\"filter-item\" icon=\"el-icon-edit\" size=\"small\" type=\"primary\">{{ $t('btn.delete') }}</el-button>\n                    </div>\n                    <el-table :data=\"temp.spareList\" :height=\"theight*0.4\" :key=\"tableKey[4]\" @row-click=\"rowClickFrom2\" @selection-change=\"selectFromChange2\" border cell-class-name=\"table-cell\" fit header-cell-class-name=\"header-cell\" highlight-current-row ref=\"sub2\">\n                        <el-table-column type=\"selection\" width=\"30\"></el-table-column>\n                        <el-table-column align=\"center\" label=\"物料编号\" prop=\"materielCode\" show-overflow-tooltip></el-table-column>\n                        <el-table-column align=\"center\" label=\"物料名称\" prop=\"materielName\" show-overflow-tooltip></el-table-column>\n                        <el-table-column label=\"计量单位\" prop=\"measureName\" show-overflow-tooltip width=\"150\"></el-table-column>\n                        <el-table-column label=\"数量\" prop=\"applyQuantity\" show-overflow-tooltip width=\"150\">\n                            <template slot-scope=\"scope\">\n                                <el-input @input=\"calMain(scope.row)\" clearable min=\"0\" placeholder=\"数量\" size=\"small\" type=\"number\" v-model=\"scope.row.applyQuantity\" />\n                            </template>\n                        </el-table-column>\n                    </el-table>\n                </el-form>\n\n                <hr class=\"hrLineStyle\" />\n                <div class=\"dialog-footer\" slot=\"footer\">\n                    <el-button @click=\"dialogVisible = false\">{{$t('table.cancel')}}</el-button>\n                    <el-button @click=\"create\" type=\"primary\" v-if=\"dialogStatus=='create'\">{{$t('table.confirm')}}</el-button>\n                    <el-button @click=\"update\" type=\"primary\" v-if=\"dialogStatus=='update'\">{{$t('table.confirm')}}</el-button>\n                </div>\n            </el-dialog>\n            <el-dialog :close-on-click-modal=\"false\" :title=\"'设备选择'\" :visible.sync=\"deviceVisible\" class=\"table_dialog\" custom-class=\"dialog-custom\" v-dialogDrag>\n                <deviceSelect :orgCode=\"temp.orgCode\" @change=\"getDevice\" ref=\"deviceSelect\"></deviceSelect>\n                <div class=\"dialog-footer\" slot=\"footer\">\n                    <el-button @click=\"deviceVisible=false\">{{$t('table.cancel')}}</el-button>\n                    <!-- deviceVisible=false -->\n                    <el-button @click=\"addDevice\" type=\"primary\">{{ $t('table.confirm') }}</el-button>\n                </div>\n            </el-dialog>\n            <el-dialog :close-on-click-modal=\"false\" :title=\"'负责人选择'\" :visible.sync=\"employeeVisible\" class=\"table_dialog\" custom-class=\"dialog-custom\" v-dialogDrag>\n                <employeeSelect @change=\"getEmployee\"></employeeSelect>\n                <div class=\"dialog-footer\" slot=\"footer\">\n                    <el-button @click=\"employeeVisible=false\">{{$t('table.cancel')}}</el-button>\n                    <el-button @click=\"employeeVisible=false\" type=\"primary\">{{ $t('table.confirm') }}</el-button>\n                </div>\n            </el-dialog>\n            <el-dialog :close-on-click-modal=\"false\" :title=\"'部件选择'\" :visible.sync=\"partVisible\" class=\"table_dialog\" custom-class=\"dialog-custom\" v-dialogDrag>\n                <partSelect :deviceType=\"temp.deviceType\" :listSelected=\"temp.positionList\" deviceTypeDisable ref=\"partSelect\"></partSelect>\n                <div class=\"dialog-footer\" slot=\"footer\">\n                    <el-button @click=\"partVisible=false\">{{$t('table.cancel')}}</el-button>\n                    <el-button @click=\"getPart\" type=\"primary\">{{ $t('table.confirm') }}</el-button>\n                </div>\n            </el-dialog>\n            <el-dialog :close-on-click-modal=\"false\" :title=\"'备件选择'\" :visible.sync=\"spareVisible\" class=\"table_dialog\" custom-class=\"dialog-custom-sp\" v-dialogDrag>\n                <spareSelect :listSelected=\"temp.spareList\" ref=\"spareSelect\"></spareSelect>\n                <div class=\"dialog-footer\" slot=\"footer\">\n                    <el-button @click=\"spareVisible=false\">{{$t('table.cancel')}}</el-button>\n                    <el-button @click=\"getSpare\" type=\"primary\">{{ $t('table.confirm') }}</el-button>\n                </div>\n            </el-dialog>\n        </div>\n    </div>\n</div>\n",null]}