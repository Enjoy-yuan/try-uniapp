{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/EL/eqmtRunRecords/singleDeviceSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/EAS/EL/eqmtRunRecords/singleDeviceSelect.vue","mtime":1596610933374},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport * as api from '@/api/project/eas/ESC/pointCheckRecord' // 增、删、改api引入\nimport deviceType from '../../components/deviceTypeSelect'\nimport Pagination from '@/components/Pagination'\nexport default {\n    name: 'singleDeviceSelect',\n    components: {\n        deviceType,\n        Pagination\n    },\n    data () {\n        return {\n            theight: 0, //表格高度\n            listQuery2: {\n                deviceCode: undefined,\n                deviceName: undefined,\n                modelNumber: undefined,\n                typeCode: undefined,\n                ifHaveUseDetp: 'Y',\n                //从表查询\n                currentPage: 1,\n                pageSize: 10\n            },\n            total2: 0,\n            tableKey: [0],\n            device: [],\n            selectDevice: []\n        }\n    },\n    mounted () {\n        this.setTableHeight()\n        //表格高度自适应\n        window.onresize = () => {\n            this.setTableHeight()\n        }\n        this.getList()\n    },\n    methods: {\n        //表格高度计算\n        setTableHeight () {\n            this.theight = this.$myFun.getSingleTbHeight() - 185\n        },\n        handleQuery2 () {\n            this.listQuery2.currentPage = 1\n            this.queryAddtionData()\n        },\n        getList () {\n            api.queryDevice(this.listQuery2).then(({ data }) => {\n                this.device = data.list\n                this.total2 = data.pages.count\n            })\n        },\n        // 获取表格选中时的数据\n        selectRow (val) {\n            this.selectDevice = val[val.length - 1]\n            if (val.length > 1) {\n                this.$refs.device.clearSelection()\n                this.$refs.device.toggleRowSelection(val.pop())\n            }\n            this.$refs.device.setCurrentRow(this.selectDevice)\n            this.$emit('change', this.selectDevice)\n        },\n        //主表单行点击方法\n        selectRow_line (val) {\n            this.$refs.device.clearSelection()\n            this.$refs.device.toggleRowSelection(val)\n        }\n    }\n}\n",null]}