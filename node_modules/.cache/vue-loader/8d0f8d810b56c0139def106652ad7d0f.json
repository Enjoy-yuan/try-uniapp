{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/supplierSelection/options/optionsFormation/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/SRM/supplierSelection/options/optionsFormation/index.vue","mtime":1596610934089},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { updateRecords } from \"@/api/project/srm/supplierSelect/options/option\"\nimport formation from './content/formation'\nimport tabPlanList from './content/tabPlanList'\nimport tabTaskList from './content/tabTaskList'\nimport dialogSetTime from './dialog/dialogSetTime'\nimport dialogMaterielCategory from '@/components/Dialog/dialogMaterielCategory'//物料分类选择\nimport dialogErrorFeedBack from './dialog/dialogErrorFeedBack'//物料分类选择\n\nexport default {\n    name: \"optionsFormation\",\n    components: { formation, tabPlanList, tabTaskList, dialogSetTime, dialogMaterielCategory, dialogErrorFeedBack },\n    data () {\n        return {\n            state: 'list',\n            tabName: 'tabPlanList',\n            tabConfig: [\n                { label: '选择方案', name: 'tabPlanList', prop: 'tabPlanList' },\n                { label: '任务清单', name: 'tabTaskList', prop: 'tabTaskList' },\n            ],\n            dialogConfig: [\n                { title: '招投标时间调整' },\n                { title: '选择物料分类', isRequired: true, unMutiple: true },\n                { title: '异常反馈' },\n            ]\n        }\n    },\n    created () { },\n    computed: {\n\n    },\n    mounted () {\n\n\n    },\n    methods: {\n        setFormationState (fstate, data) {\n            console.log(fstate, data)\n            this.changeState(fstate)\n            this.$refs.refForm.formationState = fstate\n            this.$refs.refForm.initForm(fstate, data)\n        },\n        changeState (state) {\n            this.state = state\n            this.$refs.refForm.dataListMateriel = []\n            this.$refs.refForm.dataListSupplier = []\n            this.refresh()\n        },\n        //分类设置\n        showMC (orgCode) {\n            this.$refs.refMC.listQuery.orgCode = orgCode\n            this.$refs.refMC.handleQuery()\n            this.$refs.refMC.dialogVisible = true\n        },\n        handleConfirmMC (mdata) {\n            console.log(mdata)\n            this.$refs.refMC.dialogVisible = false\n            this.$refs.refTabTask[0].setMC(mdata)\n        },\n        showFB () {\n            this.$refs.refFB.getList()\n            this.$refs.refFB.dialogVisible = true\n        },\n        refresh () {\n            if (this.tabName === 'tabPlanList') {\n                this.$refs.refTabPlan[0].handleQuery()\n            } else if (this.tabName === 'tabTaskList') {\n                this.$refs.refTabPlan[0].handleQuery()\n                this.$refs.refTabTask[0].handleQuery()\n            }\n        },\n        showST () {\n            this.$refs.refSetTime.dialogVisible = true\n        },\n        confirmSetTime (data) {\n            let bidTimeDTO = data\n            bidTimeDTO.planNos = []\n            this.$refs.refTabPlan[0].selectedRows.forEach(item => {\n                bidTimeDTO.planNos.push(item.planNo)\n            })\n            data.planNo = this.$refs.refTabPlan[0].currentSelectedRow.planNo\n            let cData = {\n                method: \"UPDATE_BID_TIME\",\n                bidTimeDTO: bidTimeDTO\n            }\n            updateRecords(cData).then(res => {\n                console.log(res, '时间设置成功')\n                this.$message({ type: 'success', message: '设置成功' })\n                this.$refs.refTabPlan[0].handleQuery()\n            })\n        }\n    }\n};\n",null]}