{"remainingRequest":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yuan/Documents/大唐广电/dt-web/src/views/project/OA/purchase/purchasing_Order_Formulation/index.vue?vue&type=template&id=eb1580a8&","dependencies":[{"path":"/Users/yuan/Documents/大唐广电/dt-web/src/views/project/OA/purchase/purchasing_Order_Formulation/index.vue","mtime":1596610933594},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuan/Documents/大唐广电/dt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"app-container\">\n    <div class=\"filter-container\">\n        <div class=\"filter-items\">\n            <el-select class=\"filter-item\" size=\"small\" v-model=\"listQuery.businessType\" @keyup.enter.native=\"handleFilter\" :placeholder=\"$t('query.ckywTpye')\" clearable>\n                <el-option v-for=\"item in dt_ckyw_tpye\" :key=\"item.dictItemKey\" :label=\"item.dictItemValue\" :value=\"item.dictItemKey\">\n                </el-option>\n            </el-select>\n            <caiGou class=\"filter-item\" :orgType=\"DT_ORG_TYPE.factory\" :placeholder=\"$t('query.arrivalCompany')\" v-model=\"listQuery.arrivalCompany\" @keyup.enter.native=\"handleFilter\"></caiGou>\n            <warehouseSelect class=\"filter-item\" v-if=\"!listQuery.arrivalCompany\" :orgCode=\"listQuery.C_DHDW\" :placeholder=\"$t('query.arrivalCompanyFirst')\" v-model=\"listQuery.orderArrivalCompany\" @keyup.enter.native=\"handleFilter\"></warehouseSelect>\n            <warehouseSelect class=\"filter-item\" v-else :orgCode=\"listQuery.arrivalCompany\" :placeholder=\"$t('query.arrivalWarehouse')\" v-model=\"listQuery.arrivalRepository\" @keyup.enter.native=\"handleFilter\"></warehouseSelect>\n            <el-input size=\"small\" v-model=\"listQuery.supplierName\" :placeholder=\"$t('query.selectSupplier')\" disabled>\n                <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"showGysxz('filter')\"></el-button>\n            </el-input>\n            <el-select class=\"filter-item\" size=\"small\" v-model=\"listQuery.state\" :placeholder=\"$t('query.orderState')\" clearable @keyup.enter.native=\"handleFilter\">\n                <el-option v-for=\"item in dt_dd_state\" :key=\"item.dictItemKey\" :label=\"item.dictItemValue\" :value=\"item.dictItemKey\">\n                </el-option>\n            </el-select>\n\n            <el-button class=\"filter-item\" type=\"primary\" size=\"small\" icon=\"el-icon-search\" @click=\"handleFilter\">{{ $t('btn.search') }}</el-button>\n\n        </div>\n    </div>\n    <div class=\"table-container\">\n        <!--主表-->\n        <div class=\"oprate_btn\">\n            <el-button size=\"small\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-plus\" @click=\"handleCreate\">{{$t('btn.add')}}</el-button>\n            <el-button size=\"small\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-delete\" @click=\"handleDelete\">{{$t('btn.delete')}}</el-button>\n            <el-button size=\"small\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleUpdate\">{{$t('btn.edit')}}</el-button>\n            <el-button size=\"small\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-close\" @click=\"handleCancel\">{{$t('btn.cancellation')}}</el-button>\n            <el-button size=\"small\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-document-delete\" @click=\"handleClosed\">{{$t('btn.closeOrder')}}</el-button>\n            <el-button size=\"small\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-finished\" @click=\"handleSubmit\">{{$t('btn.submit')}}</el-button>\n        </div>\n        <el-table :key=\"tableKey[0]\" :data=\"list\" border fit :height=\"theight\" highlight-current-row style=\"width: 100%;\" @selection-change=\"selectRow\" size=\"mini\" cell-class-name=\"table-cell\" header-cell-class-name=\"header-cell\" ref='tb'>\n            <el-table-column type=\"selection\" width=\"30\" fixed></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.orderNumber')\" fixed prop=\"orderNumber\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.orgCode')\" fixed prop=\"orgCode\"></el-table-column>\n            <el-table-column show-overflow-tooltip label=\"组织名称\" fixed prop=\"orgName\"></el-table-column>\n            <el-table-column show-overflow-tooltip label=\"采购组编码\" fixed prop=\"groupCode\"></el-table-column>\n            <el-table-column show-overflow-tooltip label=\"采购组名称\" fixed prop=\"groupName\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.purchaseClassify')\" fixed prop=\"purchaseClassifyCN\"></el-table-column>\n            <el-table-column show-overflow-tooltip label=\"到货单位编码\" prop=\"arrivalCompany\"></el-table-column>\n            <el-table-column show-overflow-tooltip label=\"到货单位名称\" prop=\"arrivalCompanyName\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.supplierName')\" prop=\"supplierName\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.businessType')\" prop=\"businessTypeCN\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.purchaseEmp')\" prop=\"purchaseEmp\"></el-table-column>\n            <el-table-column width=\"120\" show-overflow-tooltip label=\"采购计划员名称\" prop=\"purchaseEmpName\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.state')\" prop=\"stateCN\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.createTime')\" prop=\"createTime\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.releaseTime')\" prop=\"releaseTime\"></el-table-column>\n            <!-- <el-table-column show-overflow-tooltip label=\"供应商确认日期\" prop=\"\"></el-table-column> -->\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.remark')\" prop=\"remark\"></el-table-column>\n        </el-table>\n        <pagination :total=\"total\" :page.sync=\"listQuery.currentPage\" :limit.sync=\"listQuery.pageSize\" @pagination=\"getList\" class=\"pagination-container border_b_1\" />\n        <el-table :key=\"tableKey[1]\" :data=\"list1\" border fit :height=\"theight\" highlight-current-row style=\"width: 100%;\" size=\"mini\" @selection-change='selectRow1' cell-class-name=\"table-cell\" header-cell-class-name=\"header-cell\">\n            <el-table-column type=\"selection\" width=\"30\" fixed></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.rowNo')\" prop=\"rowNo\" fixed></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.materielCode')\" prop=\"materielCode\" fixed></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.materielName')\" prop=\"materielName\" fixed></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.arrivalCompany')\" prop=\"arrivalCompany\" fixed></el-table-column>\n            <el-table-column show-overflow-tooltip label=\"到货单位名称\" prop=\"arrivalCompanyName\" fixed></el-table-column>\n            <el-table-column show-overflow-tooltip label=\"到货仓库名称\" prop=\"arrivalRepositoryName\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.arrivalRepository')\" prop=\"arrivalRepository\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.snp')\" prop=\"snp\">\n                <!-- <template slot-scope=\"scope\">\n                            <span>{{scope.row.snp?scope.row.snp :scope.row.snp=1}}</span>\n                        </template> -->\n            </el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.orderQuantity')\" prop=\"orderQuantity\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.arrivalDate')\" prop=\"arrivalDate\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.specification')\" prop=\"specification\"></el-table-column>\n            <el-table-column show-overflow-tooltip label=\"采购单位名称\" prop=\"purchaseMeasuringUnitName\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.purchaseMeasuringUnit')\" prop=\"purchaseMeasuringUnit\">\n                <template slot-scope=\"scope\">\n                    <span>{{scope.row.purchaseMeasuringUnit?scope.row.purchaseMeasuringUnit:scope.row.measuringUnit}}</span>\n                </template>\n            </el-table-column>\n            <el-table-column show-overflow-tooltip label=\"计量单位名称\" prop=\"measuringUnitName\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.measuringUnit')\" prop=\"measuringUnit\"></el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.transferRate')\" prop=\"transferRate\">\n                <template slot-scope=\"scope\">\n                    <span>{{scope.row.transferRate?scope.row.transferRate:1}}</span>\n                </template>\n            </el-table-column>\n            <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.remark')\" prop=\"remark\"></el-table-column>\n        </el-table>\n    </div>\n\n    <!-- 弹框 -->\n    <div>\n        <!-- 添加编辑 -->\n        <el-dialog class=\"form_dialog\" custom-class=\"dialog-custom\" width='70%' :title=\"dialogStatus=='create'?$t('btn.add'):$t('btn.edit')\" :visible.sync=\"dialogFormVisible\" v-dialogDrag :close-on-click-modal=\"false\">\n            <el-form size=\"mini\" ref=\"dataForm\" :inline=\"true\" :rules=\"rules\" :model=\"temp\" label-width=\"120px\">\n                <el-form-item :label=\"$t('poFormulation.orderNumber')\">\n                    <el-input v-model=\"temp.orderNumber\" disabled=\"disabled\" />\n                </el-form-item>\n                <el-form-item :label=\"$t('poFormulation.businessType')\" prop=\"businessType\">\n                    <el-select size=\"small\" v-model=\"temp.businessType\" :placeholder=\"$t('form.select')\" :disabled=\"isEdit\">\n                        <el-option v-for=\"item in dt_ckyw_tpye\" :key=\"item.dictItemKey\" :label=\"item.dictItemValue\" :value=\"item.dictItemKey\">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item :label=\"$t('poFormulation.purchaseClassify')\" prop=\"purchaseClassify\">\n                    <el-select size=\"small\" v-model=\"temp.purchaseClassify\" :placeholder=\"$t('form.select')\" :disabled=\"isEdit\" @change=\"purchaseClassifyName\">\n                        <el-option v-for=\"item in dt_purchase_class\" :key=\"item.dictItemKey\" :label=\"item.dictItemValue\" :value=\"item.dictItemKey\">\n                        </el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item :label=\"$t('poFormulation.arrivalCompany')\" prop=\"arrivalCompany\">\n                    <caiGou :orgType=\"DT_ORG_TYPE.factory\" :placeholder=\"$t('form.select')\" v-model=\"temp.arrivalCompany\" :disabled=\"isEdit\" @selectName=\"arrivalCompanyName\"></caiGou>\n                </el-form-item>\n                <el-form-item :label=\"$t('poFormulation.orgCode')\" prop=\"orgCode\">\n                    <caiGou :businessFunction=\"DICT_CODE.orgPurchas\" :placeholder=\"$t('form.select')\" v-model=\"temp.orgCode\" :disabled=\"isEdit\" @selectName=\"orgName\"></caiGou>\n                </el-form-item>\n                <el-form-item :label=\"$t('poFormulation.groupCode')\" prop=\"groupCode\">\n                    <caiGou :businessFunction=\"DICT_CODE.orgGroup\" :placeholder=\"$t('form.select')\" v-model=\"temp.groupCode\" :disabled=\"isEdit\" @selectName=\"groupName\"></caiGou>\n                </el-form-item>\n                <el-form-item :label=\"$t('poFormulation.supplierCode')\" prop=\"supplierCode\">\n                    <el-input style=\"width: 165px\" v-model=\"temp.supplierCode\" disabled>\n                        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"showGysxz('add')\" :disabled=\"isEdit\"></el-button>\n                    </el-input>\n                </el-form-item>\n                <el-form-item :label=\"$t('poFormulation.purchaseEmp')\" prop=\"purchaseEmp\">\n                    <el-input style=\"width: 165px\" v-model=\"temp.purchaseEmp\" disabled>\n                        <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"handlegPersonnel\" :disabled=\"isEdit\"></el-button>\n                    </el-input>\n                </el-form-item>\n                <el-form-item :label=\"$t('poFormulation.remark')\">\n                    <el-input type=\"input\" v-model=\"temp.remark\" />\n                </el-form-item>\n                <!-- <el-form-item :label=\"$t('poFormulation.materielselect')\">\n                    <el-radio-group v-model=\"temp.materielselect\">\n                        <el-radio :label=\"1\">{{$t('poFormulation.selectSome')}}</el-radio>\n                        <el-radio :label=\"0\">{{$t('poFormulation.selectOne')}}</el-radio>\n                    </el-radio-group>\n                </el-form-item> -->\n            </el-form>\n\n            <div class=\"oprate_btn\">\n                <el-button size=\"small\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-plus\" @click=\"handleCreate2\">{{$t('btn.add')}}</el-button>\n                <el-button size=\"small\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-delete\" @click=\"handleDelete2\">{{$t('btn.delete')}}</el-button>\n                <el-button size=\"small\" class=\"filter-item\" type=\"primary\" icon=\"el-icon-refresh-right\" @click=\"handelRefresh\">{{$t('btn.refresh')}}</el-button>\n            </div>\n            <div class=\"table-container\">\n                <el-table v-loading=\"listLoading\" :data=\"list2\" border fit @selection-change='selectRow2' highlight-current-row style=\"width: 100%;\" height=\"200\" size=\"mini\" cell-class-name=\"table-cell\" header-cell-class-name=\"header-cell\">\n                    <el-table-column type=\"selection\" width=\"30\" prop=\"\" fixed></el-table-column>\n                    <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.materielCode')\" prop=\"materielCode\" fixed></el-table-column>\n                    <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.materielName')\" prop=\"materielName\" fixed></el-table-column>\n                    <el-table-column show-overflow-tooltip width=\"130\" :label=\"$t('poFormulation.arrivalRepository')\" prop=\"arrivalRepository\" fixed>\n                        <template slot-scope=\"scope\">\n                            <warehouseSelect :orgCode=\"temp.arrivalCompany\" :label=\"$t('poFormulation.arrivalCompany')\" style=\"width: 120px;\" v-model=\"scope.row.arrivalRepository\" @change=\"selectArrivalRepository(scope.$index)\" @selectName=\"arrivalRepositoryName\"></warehouseSelect>\n                        </template>\n                    </el-table-column>\n                    <el-table-column width=\"120\" show-overflow-tooltip :label=\"$t('poFormulation.orderQuantity')\" prop=\"orderQuantity\" fixed>\n                        <template slot-scope=\"scope\">\n                            <el-input v-model=\"scope.row.orderQuantity\" style=\"width:110px\" type=\"text\" @keyup.native=\"isIntegerNotMust($event)\"></el-input>\n                        </template>\n                    </el-table-column>\n                    <el-table-column show-overflow-tooltip width=\"180\" :label=\"$t('poFormulation.arrivalDate')\" prop=\"arrivalDate\" fixed>\n                        <template slot-scope=\"scope\">\n                            <el-date-picker v-model=\"scope.row.arrivalDate\" style=\"width:165px\" type=\"date\" value-format=\"yyyy-MM-dd\" :placeholder=\"$t('poFormulation.arrDateSel')\"></el-date-picker>\n                        </template>\n                    </el-table-column>\n                    <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.snp')\" prop=\"snp\">\n                    </el-table-column>\n                    <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.specification')\" prop=\"specification\"></el-table-column>\n                    <el-table-column show-overflow-tooltip width=\"160\" :label=\"$t('poFormulation.purchaseMeasuringUnitName')\" prop=\"purchaseMeasuringUnitName\">\n                        <template slot-scope=\"scope\">\n                            <span>{{scope.row.purchaseMeasuringUnitName?scope.row.purchaseMeasuringUnitName:scope.row.measuringUnitName}}</span>\n                        </template>\n                    </el-table-column>\n                    <el-table-column show-overflow-tooltip width=\"160\" :label=\"$t('poFormulation.purchaseMeasuringUnit')\" prop=\"purchaseMeasuringUnit\">\n                        <template slot-scope=\"scope\">\n                            <span>{{scope.row.purchaseMeasuringUnit?scope.row.purchaseMeasuringUnit:scope.row.measuringUnit}}</span>\n                        </template>\n                    </el-table-column>\n                    <el-table-column show-overflow-tooltip width=\"160\" :label=\"$t('poFormulation.measuringUnitName')\" prop=\"measuringUnitName\"></el-table-column>\n                    <el-table-column show-overflow-tooltip width=\"160\" :label=\"$t('poFormulation.measuringUnit')\" prop=\"measuringUnit\"></el-table-column>\n                    <el-table-column show-overflow-tooltip :label=\"$t('poFormulation.transferRate')\" prop=\"transferRate\">\n                        <template slot-scope=\"scope\">\n                            <span>{{scope.row.transferRate?scope.row.transferRate:1}}</span>\n                        </template>\n                    </el-table-column>\n                </el-table>\n                <pagination v-show=\"total2>0\" :total=\"total2\" :page.sync=\"listQuery2.currentPage\" :limit.sync=\"listQuery2.pageSize\" @pagination=\"getList2\" />\n            </div>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false\">{{ $t('btn.cancel') }}</el-button>\n                <el-button type=\"primary\" @click=\"dialogStatus==='create'?createData():updateData()\">{{ $t('btn.confirm') }}</el-button>\n            </div>\n        </el-dialog>\n\n        <!-- 供应商选择弹框 -->\n        <gysxz @handleGysClick=\"handleGysClick\" :title=\"$t('poFormulation.supplierCode')\" ref=\"dialogRefgys\" :isRequired=\"isGysRequired\" :unMutiple=\"gysMutiple\"></gysxz>\n\n        <el-dialog custom-class=\"dialog-custom\" class=\"table_dialog\" :title=\"$t('poFormulation.purchaseEmp')\" :visible.sync=\"purchasingPersonnelDialogFormVisible\" v-dialogDrag :close-on-click-modal=\"false\">\n            <purchasingPersonnel @handSelectPersonnelsRows=\"purchasingPersonnels\"></purchasingPersonnel>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button type=\"primary\" @click=\"update3\">{{$t('btn.confirm')}}</el-button>\n            </div>\n        </el-dialog>\n        <el-dialog custom-class=\"dialog-custom\" class=\"table_dialog\" title=\"新增物料信息\" :visible.sync=\"wlxzDialogFormVisible\" v-dialogDrag :close-on-click-modal=\"false\">\n            <wlxzbySourceList :unMutiple=\"temp.unMutiple\" ref=\"wlxzRef\" :supplierCode='temp.supplierCode' :orgCode='temp.orgCode' :arrivalOrgCode=\"temp.arrivalCompany\"></wlxzbySourceList>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button type=\"primary\" @click=\"update2\">{{$t('table.confirm')}}</el-button>\n            </div>\n        </el-dialog>\n    </div>\n</div>\n",null]}